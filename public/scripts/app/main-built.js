(function(){function t(t,e){if(t!==e){var n=t===t,i=e===e;if(t>e||!n||"undefined"==typeof t&&i)return 1;if(e>t||!i||"undefined"==typeof e&&n)return-1}return 0}function e(t,e,n){if(e!==e)return f(t,n);for(var i=(n||0)-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function n(t){return"function"==typeof t||!1}function i(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function r(t){return"string"==typeof t?t:null==t?"":t+""}function o(t){return t.charCodeAt(0)}function s(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function a(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function u(e,n){return t(e.criteria,n.criteria)||e.index-n.index}function c(e,n){for(var i=-1,r=e.criteria,o=n.criteria,s=r.length;++i<s;){var a=t(r[i],o[i]);if(a)return a}return e.index-n.index}function l(t){return He[t]}function h(t){return ze[t]}function p(t){return"\\"+Ue[t]}function f(t,e,n){for(var i=t.length,r=n?e||i:(e||0)-1;n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function d(t){return t&&"object"==typeof t||!1}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=z,o[++r]=n);return o}function v(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],u=e?e(a,i,t):a;i&&n===u||(n=u,s[++o]=a)}return s}function y(t){for(var e=-1,n=t.length;++e<n&&g(t.charCodeAt(e)););return e}function _(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function b(t){return De[t]}function w(g){function K(t){if(d(t)&&!ru(t)&&!(t instanceof He)){if(t instanceof te)return t;if(sa.call(t,"__chain__")&&sa.call(t,"__wrapped__"))return ji(t)}return new te(t)}function Z(){}function te(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function He(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Ba,this.__views__=null}function ze(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,i=new He(this.__wrapped__);return i.__actions__=t?en(t):null,i.__dir__=this.__dir__,i.__dropCount__=this.__dropCount__,i.__filtered__=this.__filtered__,i.__iteratees__=e?en(e):null,i.__takeCount__=this.__takeCount__,i.__views__=n?en(n):null,i}function De(){if(this.__filtered__){var t=new He(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Fe(){var t=this.__wrapped__.value();if(!ru(t))return Qn(t,this.__actions__);var e=this.__dir__,n=0>e,i=xi(0,t.length,this.__views__),r=i.start,o=i.end,s=o-r,a=this.__dropCount__,u=Ia(s,this.__takeCount__),c=n?o:r-1,l=this.__iteratees__,h=l?l.length:0,p=0,f=[];t:for(;s--&&u>p;){c+=e;for(var d=-1,g=t[c];++d<h;){var m=l[d],v=m.iteratee,y=v(g,c,t),_=m.type;if(_==$)g=y;else if(!y){if(_==L)continue t;break t}}a?a--:f[p++]=g}return f}function Ue(){this.__data__={}}function We(t){return this.has(t)&&delete this.__data__[t]}function Ge(t){return"__proto__"==t?x:this.__data__[t]}function Ke(t){return"__proto__"!=t&&sa.call(this.__data__,t)}function Xe(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Ze(t){var e=t?t.length:0;for(this.data={hash:Ca(null),set:new _a};e--;)this.push(t[e])}function Qe(t,e){var n=t.data,i="string"==typeof e||To(e)?n.set.has(e):n.hash[e];return i?0:-1}function tn(t){var e=this.data;"string"==typeof t||To(t)?e.set.add(t):e.hash[t]=!0}function en(t,e){var n=-1,i=t.length;for(e||(e=Fs(i));++n<i;)e[n]=t[n];return e}function nn(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function rn(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function on(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function sn(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function an(t,e){for(var n=-1,i=t.length,r=Fs(i);++n<i;)r[n]=e(t[n],n,t);return r}function un(t){for(var e=-1,n=t.length,i=Na;++e<n;){var r=t[e];r>i&&(i=r)}return i}function cn(t){for(var e=-1,n=t.length,i=Ba;++e<n;){var r=t[e];i>r&&(i=r)}return i}function ln(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function hn(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function pn(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function fn(t,e){return"undefined"==typeof t?e:t}function dn(t,e,n,i){return"undefined"!=typeof t&&sa.call(i,n)?t:e}function gn(t,e,n){var i=cu(e);if(!n)return vn(e,t,i);for(var r=-1,o=i.length;++r<o;){var s=i[r],a=t[s],u=n(a,e[s],s,t,e);(u===u?u===a:a!==a)&&("undefined"!=typeof a||s in t)||(t[s]=u)}return t}function mn(t,e){for(var n=-1,i=t.length,r=Ri(i),o=e.length,s=Fs(o);++n<o;){var a=e[n];r?(a=parseFloat(a),s[n]=Pi(a,i)?t[a]:x):s[n]=t[a]}return s}function vn(t,e,n){n||(n=e,e={});for(var i=-1,r=n.length;++i<r;){var o=n[i];e[o]=t[o]}return e}function yn(t,e){for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=gi(t[r],k,t)}return t}function _n(t,e,n){var i=typeof t;return"function"==i?"undefined"!=typeof e&&Ci(t)?ni(t,e,n):t:null==t?Os:"object"==i?zn(t):"undefined"==typeof e?qn(t+""):Dn(t+"",e)}function bn(t,e,n,i,r,o,s){var a;if(n&&(a=r?n(t,i,r):n(t)),"undefined"!=typeof a)return a;if(!To(t))return t;var u=ru(t);if(u){if(a=Si(t),!e)return en(t,a)}else{var c=ua.call(t),l=c==G;if(c!=J&&c!=D&&(!l||r))return $e[c]?Ei(t,c,e):r?t:{};if(Je(t))return r?t:{};if(a=ki(l?{}:t),!e)return vn(t,a,cu(t))}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(u?nn:An)(t,function(i,r){a[r]=bn(i,e,n,r,t,o,s)}),a}function wn(t,e,n,i){if("function"!=typeof t)throw new Zs(H);return ba(function(){t.apply(x,Xn(n,i))},e)}function xn(t,n){var i=t?t.length:0,r=[];if(!i)return r;var o=-1,s=wi(),a=s==e,u=a&&n.length>=200&&Ka(n),c=n.length;u&&(s=Qe,a=!1,n=u);t:for(;++o<i;){var l=t[o];if(a&&l===l){for(var h=c;h--;)if(n[h]===l)continue t;r.push(l)}else s(n,l)<0&&r.push(l)}return r}function Sn(t,e){var n=t?t.length:0;if(!Ri(n))return An(t,e);for(var i=-1,r=$i(t);++i<n&&e(r[i],i,r)!==!1;);return t}function kn(t,e){var n=t?t.length:0;if(!Ri(n))return Vn(t,e);for(var i=$i(t);n--&&e(i[n],n,i)!==!1;);return t}function En(t,e){var n=!0;return Sn(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Cn(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i="undefined"==typeof i||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)t[n++]=e;return t}function Pn(t,e){var n=[];return Sn(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Mn(t,e,n,i){var r;return n(t,function(t,n,o){return e(t,n,o)?(r=i?n:t,!1):void 0}),r}function Rn(t,e,n,i){for(var r=(i||0)-1,o=t.length,s=-1,a=[];++r<o;){var u=t[r];if(d(u)&&Ri(u.length)&&(ru(u)||ko(u))){e&&(u=Rn(u,e,n));var c=-1,l=u.length;for(a.length+=l;++c<l;)a[++s]=u[c]}else n||(a[++s]=u)}return a}function In(t,e,n){for(var i=-1,r=$i(t),o=n(t),s=o.length;++i<s;){var a=o[i];if(e(r[a],a,r)===!1)break}return t}function Tn(t,e,n){for(var i=$i(t),r=n(t),o=r.length;o--;){var s=r[o];if(e(i[s],s,i)===!1)break}return t}function On(t,e){return In(t,e,ts)}function An(t,e){return In(t,e,cu)}function Vn(t,e){return Tn(t,e,cu)}function Nn(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];su(t[s])&&(o[++r]=s)}return o}function Bn(t,e,n){var i=-1,r="function"==typeof e,o=t?t.length:0,s=Ri(o)?Fs(o):[];return Sn(t,function(t){var o=r?e:null!=t&&t[e];s[++i]=o?o.apply(t,n):x}),s}function Ln(t,e,n,i,r,o){if(t===e)return 0!==t||1/t==1/e;var s=typeof t,a=typeof e;return"function"!=s&&"object"!=s&&"function"!=a&&"object"!=a||null==t||null==e?t!==t&&e!==e:$n(t,e,Ln,n,i,r,o)}function $n(t,e,n,i,r,o,s){var a=ru(t),u=ru(e),c=F,l=F;a||(c=ua.call(t),c==D?c=J:c!=J&&(a=jo(t))),u||(l=ua.call(e),l==D?l=J:l!=J&&(u=jo(e)));var h=c==J&&!Je(t),p=l==J&&!Je(e),f=c==l;if(f&&!a&&!h)return vi(t,e,c);var d=h&&sa.call(t,"__wrapped__"),g=p&&sa.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,i,r,o,s);if(!f)return!1;o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==t)return s[m]==e;o.push(t),s.push(e);var v=(a?mi:yi)(t,e,n,i,r,o,s);return o.pop(),s.pop(),v}function jn(t,e,n,i,r){var o=e.length;if(null==t)return!o;for(var s=-1,a=!r;++s<o;)if(a&&i[s]?n[s]!==t[e[s]]:!sa.call(t,e[s]))return!1;for(s=-1;++s<o;){var u=e[s];if(a&&i[s])var c=sa.call(t,u);else{var l=t[u],h=n[s];c=r?r(l,h,u):x,"undefined"==typeof c&&(c=Ln(h,l,r,!0))}if(!c)return!1}return!0}function Hn(t,e){var n=[];return Sn(t,function(t,i,r){n.push(e(t,i,r))}),n}function zn(t){var e=cu(t),n=e.length;if(1==n){var i=e[0],r=t[i];if(Ii(r))return function(t){return null!=t&&t[i]===r&&sa.call(t,i)}}for(var o=Fs(n),s=Fs(n);n--;)r=t[e[n]],o[n]=r,s[n]=Ii(r);return function(t){return jn(t,e,o,s)}}function Dn(t,e){return Ii(e)?function(n){return null!=n&&n[t]===e}:function(n){return null!=n&&Ln(e,n[t],null,!0)}}function Fn(t,e,n,i,r){if(!To(t))return t;var o=Ri(e.length)&&(ru(e)||jo(e));return(o?nn:An)(e,function(e,s,a){if(d(e))return i||(i=[]),r||(r=[]),Un(t,a,s,Fn,n,i,r);var u=t[s],c=n?n(u,e,s,t,a):x,l="undefined"==typeof c;l&&(c=e),!o&&"undefined"==typeof c||!l&&(c===c?c===u:u!==u)||(t[s]=c)}),t}function Un(t,e,n,i,r,o,s){for(var a=o.length,u=e[n];a--;)if(o[a]==u)return void(t[n]=s[a]);var c=t[n],l=r?r(c,u,n,t,e):x,h="undefined"==typeof l;h&&(l=u,Ri(u.length)&&(ru(u)||jo(u))?l=ru(c)?c:c?en(c):[]:au(u)||ko(u)?l=ko(c)?Do(c):au(c)?c:{}:h=!1),o.push(u),s.push(l),h?t[n]=i(l,u,r,o,s):(l===l?l!==c:c===c)&&(t[n]=l)}function qn(t){return function(e){return null==e?x:e[t]}}function Wn(e,n){var i=n.length,r=mn(e,n);for(n.sort(t);i--;){var o=parseFloat(n[i]);if(o!=s&&Pi(o)){var s=o;wa.call(e,o,1)}}return r}function Gn(t,e){return t+ga(Va()*(e-t+1))}function Kn(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function Xn(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n="undefined"==typeof n||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Fs(r);++i<r;)o[i]=t[i+e];return o}function Jn(t,e){var n;return Sn(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Yn(t,n){var i=-1,r=wi(),o=t.length,s=r==e,a=s&&o>=200,u=a&&Ka(),c=[];u?(r=Qe,s=!1):(a=!1,u=n?[]:c);t:for(;++i<o;){var l=t[i],h=n?n(l,i,t):l;if(s&&l===l){for(var p=u.length;p--;)if(u[p]===h)continue t;n&&u.push(h),c.push(l)}else r(u,h)<0&&((n||a)&&u.push(h),c.push(l))}return c}function Zn(t,e){for(var n=-1,i=e.length,r=Fs(i);++n<i;)r[n]=t[e[n]];return r}function Qn(t,e){var n=t;n instanceof He&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=[n],s=e[i];va.apply(o,s.args),n=s.func.apply(s.thisArg,o)}return n}function ti(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&ja>=r){for(;r>i;){var o=i+r>>>1,s=t[o];(n?e>=s:e>s)?i=o+1:r=o}return r}return ei(t,e,Os,n)}function ei(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a="undefined"==typeof e;o>r;){var u=ga((r+o)/2),c=n(t[u]),l=c===c;if(s)var h=l||i;else h=a?l&&(i||"undefined"!=typeof c):i?e>=c:e>c;h?r=u+1:o=u}return Ia(o,$a)}function ni(t,e,n){if("function"!=typeof t)return Os;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function ii(t){return pa.call(t,0)}function ri(t,e,n){for(var i=n.length,r=-1,o=Ra(t.length-i,0),s=-1,a=e.length,u=Fs(o+a);++s<a;)u[s]=e[s];for(;++r<i;)u[n[r]]=t[r];for(;o--;)u[s++]=t[r++];return u}function oi(t,e,n){for(var i=-1,r=n.length,o=-1,s=Ra(t.length-r,0),a=-1,u=e.length,c=Fs(s+u);++o<s;)c[o]=t[o];for(var l=o;++a<u;)c[l+a]=e[a];for(;++i<r;)c[l+n[i]]=t[o++];return c}function si(t,e){return function(n,i,r){var o=e?e():{};if(i=bi(i,r,3),ru(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(o,u,i(u,s,n),n)}else Sn(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function ai(t){return function(){var e=arguments.length,n=arguments[0];if(2>e||null==n)return n;if(e>3&&Mi(arguments[1],arguments[2],arguments[3])&&(e=2),e>3&&"function"==typeof arguments[e-2])var i=ni(arguments[--e-1],arguments[e--],5);else e>2&&"function"==typeof arguments[e-1]&&(i=arguments[--e]);for(var r=0;++r<e;){var o=arguments[r];o&&t(n,o,i)}return n}}function ui(t,e){function n(){return(this instanceof n?i:t).apply(e,arguments)}var i=li(t);return n}function ci(t){return function(e){for(var n=-1,i=Ms(ps(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function li(t){return function(){var e=Wa(t.prototype),n=t.apply(e,arguments);return To(n)?n:e}}function hi(t,e){return function(n,i,r){r&&Mi(n,i,r)&&(i=null);var s=bi(),a=null==i;if(s===_n&&a||(a=!1,i=s(i,r,3)),a){var u=ru(n);if(u||!$o(n))return t(u?n:Li(n));i=o}return _i(n,i,e)}}function pi(t,e,n,i,r,o,s,a,u,c){function l(){for(var b=arguments.length,w=b,x=Fs(b);w--;)x[w]=arguments[w];if(i&&(x=ri(x,i,r)),o&&(x=oi(x,o,s)),d||v){var S=l.placeholder,C=m(x,S);if(b-=C.length,c>b){var P=a?en(a):null,M=Ra(c-b,0),T=d?C:null,O=d?null:C,A=d?x:null,V=d?null:x;e|=d?R:I,e&=~(d?I:R),g||(e&=~(k|E));var N=pi(t,e,n,A,T,V,O,P,u,M);return N.placeholder=S,N}}var B=p?n:this;return f&&(t=B[_]),a&&(x=Vi(x,a)),h&&u<x.length&&(x.length=u),(this instanceof l?y||li(t):t).apply(B,x)}var h=e&O,p=e&k,f=e&E,d=e&P,g=e&C,v=e&M,y=!f&&li(t),_=t;return l}function fi(t,e,n){var i=t.length;if(e=+e,i>=e||!Pa(e))return"";var r=e-i;return n=null==n?" ":n+"",bs(n,fa(r/n.length)).slice(0,r)}function di(t,e,n,i){function r(){for(var e=-1,a=arguments.length,u=-1,c=i.length,l=Fs(a+c);++u<c;)l[u]=i[u];for(;a--;)l[u++]=arguments[++e];return(this instanceof r?s:t).apply(o?n:this,l)}var o=e&k,s=li(t);return r}function gi(t,e,n,i,r,o,s,a){var u=e&E;if(!u&&"function"!=typeof t)throw new Zs(H);var c=i?i.length:0;if(c||(e&=~(R|I),i=r=null),c-=r?r.length:0,e&I){var l=i,h=r;i=r=null}var p=!u&&Xa(t),f=[t,e,n,i,r,l,h,o,s,a];if(p&&p!==!0&&(Ti(f,p),e=f[1],a=f[9]),f[9]=null==a?u?0:t.length:Ra(a-c,0)||0,e==k)var d=ui(f[0],f[2]);else d=e!=R&&e!=(k|R)||f[4].length?pi.apply(x,f):di.apply(x,f);var g=p?Ga:Ja;return g(d,f)}function mi(t,e,n,i,r,o,s){var a=-1,u=t.length,c=e.length,l=!0;if(u!=c&&!(r&&c>u))return!1;for(;l&&++a<u;){var h=t[a],p=e[a];if(l=x,i&&(l=r?i(p,h,a):i(h,p,a)),"undefined"==typeof l)if(r)for(var f=c;f--&&(p=e[f],!(l=h&&h===p||n(h,p,i,r,o,s))););else l=h&&h===p||n(h,p,i,r,o,s)}return!!l}function vi(t,e,n){switch(n){case U:case q:return+t==+e;case W:return t.name==e.name&&t.message==e.message;case X:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Y:case Q:return t==e+""}return!1}function yi(t,e,n,i,r,o,s){var a=cu(t),u=a.length,c=cu(e),l=c.length;if(u!=l&&!r)return!1;for(var h,p=-1;++p<u;){var f=a[p],d=sa.call(e,f);if(d){var g=t[f],m=e[f];d=x,i&&(d=r?i(m,g,f):i(g,m,f)),"undefined"==typeof d&&(d=g&&g===m||n(g,m,i,r,o,s))}if(!d)return!1;h||(h="constructor"==f)}if(!h){var v=t.constructor,y=e.constructor;if(v!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function _i(t,e,n){var i=n?Ba:Na,r=i,o=r;return Sn(t,function(t,s,a){var u=e(t,s,a);((n?r>u:u>r)||u===i&&u===o)&&(r=u,o=t)}),o}function bi(t,e,n){var i=K.callback||Is;return i=i===Is?_n:i,n?i(t,e,n):i}function wi(t,n,i){var r=K.indexOf||Qi;return r=r===Qi?e:r,t?r(t,n,i):r}function xi(t,e,n){for(var i=-1,r=n?n.length:0;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ia(e,t+s);break;case"takeRight":t=Ra(t,e-s)}}return{start:t,end:e}}function Si(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&sa.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ki(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Xs),new e}function Ei(t,e,n){var i=t.constructor;switch(e){case ee:return ii(t);case U:case q:return new i(+t);case ne:case ie:case re:case oe:case se:case ae:case ue:case ce:case le:i instanceof i&&(i=Fa[e]);var r=t.buffer;return new i(n?ii(r):r,t.byteOffset,t.length);case X:case Q:return new i(t);case Y:var o=new i(t.source,xe.exec(t));o.lastIndex=t.lastIndex}return o}function Ci(t){var e=K.support,n=!(e.funcNames?t.name:e.funcDecomp);if(!n){var i=ra.call(t);e.funcNames||(n=!Se.test(i)),n||(n=Ie.test(i)||Vo(t),Ga(t,n))}return n}function Pi(t,e){return t=+t,e=null==e?za:e,t>-1&&t%1==0&&e>t}function Mi(t,e,n){if(!To(n))return!1;var i=typeof e;if("number"==i)var r=n.length,o=Ri(r)&&Pi(e,r);else o="string"==i&&e in n;var s=n[e];return o&&(t===t?t===s:s!==s)}function Ri(t){return"number"==typeof t&&t>-1&&t%1==0&&za>=t}function Ii(t){return t===t&&(0===t?1/t>0:!To(t))}function Ti(t,e){var n=t[1],i=e[1],r=n|i,o=O|T,s=k|E,a=o|s|C|M,u=n&O&&!(i&O),c=n&T&&!(i&T),l=(c?t:e)[7],h=(u?t:e)[8],p=!(n>=T&&i>s||n>s&&i>=T),f=r>=o&&a>=r&&(T>n||(c||u)&&l.length<=h);if(!p&&!f)return t;i&k&&(t[2]=e[2],r|=n&k?0:C);var d=e[3];if(d){var g=t[3];t[3]=g?ri(g,d,e[4]):en(d),t[4]=g?m(t[3],z):en(e[4])}return d=e[5],d&&(g=t[5],t[5]=g?oi(g,d,e[6]):en(d),t[6]=g?m(t[5],z):en(e[6])),d=e[7],d&&(t[7]=en(d)),i&O&&(t[8]=null==t[8]?e[8]:Ia(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Oi(t,e){t=$i(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function Ai(t,e){var n={};return On(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function Vi(t,e){for(var n=t.length,i=Ia(e.length,n),r=en(t);i--;){var o=e[i];t[i]=Pi(o,n)?r[o]:x}return t}function Ni(t){var e,n=K.support;if(!d(t)||ua.call(t)!=J||Je(t)||!sa.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e))||!n.argsTag&&ko(t))return!1;var i;return n.ownLast?(On(t,function(t,e,n){return i=sa.call(n,e),!1}),i!==!1):(On(t,function(t,e){i=e}),"undefined"==typeof i||sa.call(t,i))}function Bi(t){for(var e=ts(t),n=e.length,i=n&&t.length,r=K.support,o=i&&Ri(i)&&(ru(t)||r.nonEnumStrings&&$o(t)||r.nonEnumArgs&&ko(t)),s=-1,a=[];++s<n;){var u=e[s];(o&&Pi(u,i)||sa.call(t,u))&&a.push(u)}return a}function Li(t){return null==t?[]:Ri(t.length)?K.support.unindexedChars&&$o(t)?t.split(""):To(t)?t:Xs(t):as(t)}function $i(t){if(K.support.unindexedChars&&$o(t)){for(var e=-1,n=t.length,i=Xs(t);++e<n;)i[e]=t.charAt(e);return i}return To(t)?t:Xs(t)}function ji(t){return t instanceof He?t.clone():new te(t.__wrapped__,t.__chain__,en(t.__actions__))}function Hi(t,e,n){e=(n?Mi(t,e,n):null==e)?1:Ra(+e||1,1);for(var i=0,r=t?t.length:0,o=-1,s=Fs(fa(r/e));r>i;)s[++o]=Xn(t,i,i+=e);return s}function zi(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function Di(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(ru(n)||ko(n))break}return xn(n,Rn(arguments,!1,!0,++t))}function Fi(t,e,n){var i=t?t.length:0;return i?((n?Mi(t,e,n):null==e)&&(e=1),Xn(t,0>e?0:e)):[]}function Ui(t,e,n){var i=t?t.length:0;return i?((n?Mi(t,e,n):null==e)&&(e=1),e=i-(+e||0),Xn(t,0,0>e?0:e)):[]}function qi(t,e,n){var i=t?t.length:0;if(!i)return[];for(e=bi(e,n,3);i--&&e(t[i],i,t););return Xn(t,0,i+1)}function Wi(t,e,n){var i=t?t.length:0;if(!i)return[];var r=-1;for(e=bi(e,n,3);++r<i&&e(t[r],r,t););return Xn(t,r)}function Gi(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Mi(t,e,n)&&(n=0,i=r),Cn(t,e,n,i)):[]}function Ki(t,e,n){var i=-1,r=t?t.length:0;for(e=bi(e,n,3);++i<r;)if(e(t[i],i,t))return i;return-1}function Xi(t,e,n){var i=t?t.length:0;for(e=bi(e,n,3);i--;)if(e(t[i],i,t))return i;return-1}function Ji(t){return t?t[0]:x}function Yi(t,e,n){var i=t?t.length:0;return n&&Mi(t,e,n)&&(e=!1),i?Rn(t,e):[]}function Zi(t){var e=t?t.length:0;return e?Rn(t,!0):[]}function Qi(t,n,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?Ra(r+i,0):i||0;else if(i){var o=ti(t,n),s=t[o];return(n===n?n===s:s!==s)?o:-1}return e(t,n,i)}function tr(t){return Ui(t,1)}function er(){for(var t=[],n=-1,i=arguments.length,r=[],o=wi(),s=o==e;++n<i;){var a=arguments[n];(ru(a)||ko(a))&&(t.push(a),r.push(s&&a.length>=120&&Ka(n&&a)))}i=t.length;var u=t[0],c=-1,l=u?u.length:0,h=[],p=r[0];t:for(;++c<l;)if(a=u[c],(p?Qe(p,a):o(h,a))<0){for(n=i;--n;){var f=r[n];if((f?Qe(f,a):o(t[n],a))<0)continue t}p&&p.push(a),h.push(a)}return h}function nr(t){var e=t?t.length:0;return e?t[e-1]:x}function ir(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?Ra(i+n,0):Ia(n||0,i-1))+1;else if(n){r=ti(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return f(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function rr(){var t=arguments[0];if(!t||!t.length)return t;for(var e=0,n=wi(),i=arguments.length;++e<i;)for(var r=0,o=arguments[e];(r=n(t,o,r))>-1;)wa.call(t,r,1);return t}function or(t){return Wn(t||[],Rn(arguments,!1,!1,1))}function sr(t,e,n){var i=-1,r=t?t.length:0,o=[];for(e=bi(e,n,3);++i<r;){var s=t[i];e(s,i,t)&&(o.push(s),wa.call(t,i--,1),r--)}return o}function ar(t){return Fi(t,1)}function ur(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Mi(t,e,n)&&(e=0,n=i),Xn(t,e,n)):[]}function cr(t,e,n,i){var r=bi(n);return r===_n&&null==n?ti(t,e):ei(t,e,r(n,i,1))}function lr(t,e,n,i){var r=bi(n);return r===_n&&null==n?ti(t,e,!0):ei(t,e,r(n,i,1),!0)}function hr(t,e,n){var i=t?t.length:0;return i?((n?Mi(t,e,n):null==e)&&(e=1),Xn(t,0,0>e?0:e)):[]}function pr(t,e,n){var i=t?t.length:0;return i?((n?Mi(t,e,n):null==e)&&(e=1),e=i-(+e||0),Xn(t,0>e?0:e)):[]}function fr(t,e,n){var i=t?t.length:0;if(!i)return[];for(e=bi(e,n,3);i--&&e(t[i],i,t););return Xn(t,i+1)}function dr(t,e,n){var i=t?t.length:0;if(!i)return[];var r=-1;for(e=bi(e,n,3);++r<i&&e(t[r],r,t););return Xn(t,0,r)}function gr(){return Yn(Rn(arguments,!1,!0))}function mr(t,n,i,r){var o=t?t.length:0;if(!o)return[];null!=n&&"boolean"!=typeof n&&(r=i,i=Mi(t,n,r)?null:n,n=!1);var s=bi();return(s!==_n||null!=i)&&(i=s(i,r,3)),n&&wi()==e?v(t,i):Yn(t,i)}function vr(t){for(var e=-1,n=(t&&t.length&&un(an(t,oa)))>>>0,i=Fs(n);++e<n;)i[e]=an(t,qn(e));return i}function yr(t){return xn(t,Xn(arguments,1))}function _r(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(ru(n)||ko(n))var i=i?xn(i,n).concat(xn(n,i)):n}return i?Yn(i):[]}function br(){for(var t=arguments.length,e=Fs(t);t--;)e[t]=arguments[t];return vr(e)}function wr(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||ru(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function xr(t){var e=K(t);return e.__chain__=!0,e}function Sr(t,e,n){return e.call(n,t),t}function kr(t,e,n){return e.call(n,t)}function Er(){return xr(this)}function Cr(){return new te(this.value(),this.__chain__)}function Pr(t){for(var e,n=this;n instanceof Z;){var i=ji(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function Mr(){var t=this.__wrapped__;return t instanceof He?(this.__actions__.length&&(t=new He(this)),new te(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Rr(){return this.value()+""}function Ir(){return Qn(this.__wrapped__,this.__actions__)}function Tr(t){var e=t?t.length:0;return Ri(e)&&(t=Li(t)),mn(t,Rn(arguments,!1,!1,1))}function Or(t,e,n){var i=ru(t)?on:En;return("function"!=typeof e||"undefined"!=typeof n)&&(e=bi(e,n,3)),i(t,e)}function Ar(t,e,n){var i=ru(t)?sn:Pn;return e=bi(e,n,3),i(t,e)}function Vr(t,e,n){if(ru(t)){var i=Ki(t,e,n);return i>-1?t[i]:x}return e=bi(e,n,3),Mn(t,e,Sn)}function Nr(t,e,n){return e=bi(e,n,3),Mn(t,e,kn)}function Br(t,e){return Vr(t,zn(e))}function Lr(t,e,n){return"function"==typeof e&&"undefined"==typeof n&&ru(t)?nn(t,e):Sn(t,ni(e,n,3))}function $r(t,e,n){return"function"==typeof e&&"undefined"==typeof n&&ru(t)?rn(t,e):kn(t,ni(e,n,3))}function jr(t,e,n){var i=t?t.length:0;return Ri(i)||(t=as(t),i=t.length),i?(n="number"==typeof n?0>n?Ra(i+n,0):n||0:0,"string"==typeof t||!ru(t)&&$o(t)?i>n&&t.indexOf(e,n)>-1:wi(t,e,n)>-1):!1}function Hr(t,e){return Bn(t,e,Xn(arguments,2))}function zr(t,e,n){var i=ru(t)?an:Hn;return e=bi(e,n,3),i(t,e)}function Dr(t,e){return zr(t,qn(e))}function Fr(t,e,n,i){var r=ru(t)?ln:Kn;return r(t,bi(e,i,4),n,arguments.length<3,Sn)}function Ur(t,e,n,i){var r=ru(t)?hn:Kn;return r(t,bi(e,i,4),n,arguments.length<3,kn)}function qr(t,e,n){var i=ru(t)?sn:Pn;return e=bi(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function Wr(t,e,n){if(n?Mi(t,e,n):null==e){t=Li(t);var i=t.length;return i>0?t[Gn(0,i-1)]:x}var r=Gr(t);return r.length=Ia(0>e?0:+e||0,r.length),r}function Gr(t){t=Li(t);for(var e=-1,n=t.length,i=Fs(n);++e<n;){var r=Gn(0,e);e!=r&&(i[e]=i[r]),i[r]=t[e]}return i}function Kr(t){var e=t?t.length:0;return Ri(e)?e:cu(t).length}function Xr(t,e,n){var i=ru(t)?pn:Jn;return("function"!=typeof e||"undefined"!=typeof n)&&(e=bi(e,n,3)),i(t,e)}function Jr(t,e,n){var r=-1,o=t?t.length:0,s=Ri(o)?Fs(o):[];return n&&Mi(t,e,n)&&(e=null),e=bi(e,n,3),Sn(t,function(t,n,i){s[++r]={criteria:e(t,n,i),index:r,value:t}}),i(s,u)}function Yr(t){var e=arguments;e.length>3&&Mi(e[1],e[2],e[3])&&(e=[t,e[1]]);var n=-1,r=t?t.length:0,o=Rn(e,!1,!1,1),s=Ri(r)?Fs(r):[];return Sn(t,function(t){for(var e=o.length,i=Fs(e);e--;)i[e]=null==t?x:t[o[e]];s[++n]={criteria:i,index:n,value:t}}),i(s,c)}function Zr(t,e){return Ar(t,zn(e))}function Qr(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Zs(H);var n=t;t=e,e=n}return t=Pa(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function to(t,e,n){return n&&Mi(t,e,n)&&(e=null),e=t&&null==e?t.length:Ra(+e||0,0),gi(t,O,null,null,null,null,e)}function eo(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Zs(H);var i=t;t=e,e=i}return function(){return--t>0?n=e.apply(this,arguments):e=null,n}}function no(t,e){var n=k;if(arguments.length>2){var i=Xn(arguments,2),r=m(i,no.placeholder);n|=R}return gi(t,n,e,i,r)}function io(t){return yn(t,arguments.length>1?Rn(arguments,!1,!1,1):Yo(t))}function ro(t,e){var n=k|E;if(arguments.length>2){var i=Xn(arguments,2),r=m(i,ro.placeholder);n|=R}return gi(e,n,t,i,r)}function oo(t,e,n){n&&Mi(t,e,n)&&(e=null);var i=gi(t,P,null,null,null,null,null,e);return i.placeholder=oo.placeholder,i}function so(t,e,n){n&&Mi(t,e,n)&&(e=null);var i=gi(t,M,null,null,null,null,null,e);return i.placeholder=so.placeholder,i}function ao(t,e,n){function i(){p&&da(p),u&&da(u),u=p=f=x}function r(){var n=e-(iu()-l);if(0>=n||n>e){u&&da(u);var i=f;u=p=f=x,i&&(d=iu(),c=t.apply(h,a),p||u||(a=h=null))}else p=ba(r,n)}function o(){p&&da(p),u=p=f=x,(m||g!==e)&&(d=iu(),c=t.apply(h,a),p||u||(a=h=null))}function s(){if(a=arguments,l=iu(),h=this,f=m&&(p||!v),g===!1)var n=v&&!p;else{u||v||(d=l);var i=g-(l-d),s=0>=i||i>g;s?(u&&(u=da(u)),d=l,c=t.apply(h,a)):u||(u=ba(o,i))}return s&&p?p=da(p):p||e===g||(p=ba(r,e)),n&&(s=!0,c=t.apply(h,a)),!s||p||u||(a=h=null),c}var a,u,c,l,h,p,f,d=0,g=!1,m=!0;if("function"!=typeof t)throw new Zs(H);if(e=0>e?0:e,n===!0){var v=!0;m=!1}else To(n)&&(v=n.leading,g="maxWait"in n&&Ra(+n.maxWait||0,e),m="trailing"in n?n.trailing:m);return s.cancel=i,s}function uo(t){return wn(t,1,arguments,1)}function co(t,e){return wn(t,e,arguments,2)}function lo(){var t=arguments,e=t.length;if(!e)return function(){return arguments[0]};if(!on(t,n))throw new Zs(H);return function(){for(var n=0,i=t[n].apply(this,arguments);++n<e;)i=t[n].call(this,i);return i}}function ho(){var t=arguments,e=t.length-1;if(0>e)return function(){return arguments[0]};if(!on(t,n))throw new Zs(H);return function(){for(var n=e,i=t[n].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function po(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Zs(H);var n=function(){var i=n.cache,r=e?e.apply(this,arguments):arguments[0];if(i.has(r))return i.get(r);var o=t.apply(this,arguments);return i.set(r,o),o};return n.cache=new po.Cache,n}function fo(t){if("function"!=typeof t)throw new Zs(H);return function(){return!t.apply(this,arguments)}}function go(t){return eo(t,2)}function mo(t){var e=Xn(arguments,1),n=m(e,mo.placeholder);return gi(t,R,null,e,n)}function vo(t){var e=Xn(arguments,1),n=m(e,vo.placeholder);return gi(t,I,null,e,n)}function yo(t){var e=Rn(arguments,!1,!1,1);return gi(t,T,null,null,null,e)}function _o(t){if("function"!=typeof t)throw new Zs(H);return function(e){return t.apply(this,e)}}function bo(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Zs(H);return n===!1?i=!1:To(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),je.leading=i,je.maxWait=+e,je.trailing=r,ao(t,e,je)}function wo(t,e){return e=null==e?Os:e,gi(e,R,null,[t],[])}function xo(t,e,n,i){return e&&"boolean"!=typeof e&&Mi(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),n="function"==typeof n&&ni(n,i,1),bn(t,e,n)}function So(t,e,n){return e="function"==typeof e&&ni(e,n,1),bn(t,!0,e)}function ko(t){var e=d(t)?t.length:x;return Ri(e)&&ua.call(t)==D||!1}function Eo(t){return t===!0||t===!1||d(t)&&ua.call(t)==U||!1}function Co(t){return d(t)&&ua.call(t)==q||!1}function Po(t){return t&&1===t.nodeType&&d(t)&&(K.support.nodeTag?ua.call(t).indexOf("Element")>-1:Je(t))||!1}function Mo(t){if(null==t)return!0;var e=t.length;return Ri(e)&&(ru(t)||$o(t)||ko(t)||d(t)&&su(t.splice))?!e:!cu(t).length}function Ro(t,e,n,i){if(n="function"==typeof n&&ni(n,i,3),!n&&Ii(t)&&Ii(e))return t===e;var r=n?n(t,e):x;return"undefined"==typeof r?Ln(t,e,n):!!r}function Io(t){return d(t)&&"string"==typeof t.message&&ua.call(t)==W||!1}function To(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}function Oo(t,e,n,i){var r=cu(e),o=r.length;if(n="function"==typeof n&&ni(n,i,3),!n&&1==o){var s=r[0],a=e[s];if(Ii(a))return null!=t&&a===t[s]&&sa.call(t,s)}for(var u=Fs(o),c=Fs(o);o--;)a=u[o]=e[r[o]],c[o]=Ii(a);return jn(t,r,u,c,n)}function Ao(t){return Bo(t)&&t!=+t}function Vo(t){return null==t?!1:ua.call(t)==G?la.test(ra.call(t)):d(t)&&(Je(t)?la:Ee).test(t)||!1}function No(t){return null===t}function Bo(t){return"number"==typeof t||d(t)&&ua.call(t)==X||!1}function Lo(t){return To(t)&&ua.call(t)==Y||!1}function $o(t){return"string"==typeof t||d(t)&&ua.call(t)==Q||!1}function jo(t){return d(t)&&Ri(t.length)&&Le[ua.call(t)]||!1}function Ho(t){return"undefined"==typeof t}function zo(t){var e=t?t.length:0;return Ri(e)?e?K.support.unindexedChars&&$o(t)?t.split(""):en(t):[]:as(t)}function Do(t){return vn(t,ts(t))}function Fo(t,e,n){var i=Wa(t);return n&&Mi(t,e,n)&&(e=null),e?vn(e,i,cu(e)):i}function Uo(t){if(null==t)return t;var e=en(arguments);return e.push(fn),uu.apply(x,e)}function qo(t,e,n){return e=bi(e,n,3),Mn(t,e,An,!0)}function Wo(t,e,n){return e=bi(e,n,3),Mn(t,e,Vn,!0)}function Go(t,e,n){return("function"!=typeof e||"undefined"!=typeof n)&&(e=ni(e,n,3)),In(t,e,ts)}function Ko(t,e,n){return e=ni(e,n,3),Tn(t,e,ts)}function Xo(t,e,n){return("function"!=typeof e||"undefined"!=typeof n)&&(e=ni(e,n,3)),An(t,e)}function Jo(t,e,n){return e=ni(e,n,3),Tn(t,e,cu)}function Yo(t){return Nn(t,ts(t))}function Zo(t,e){return t?sa.call(t,e):!1}function Qo(t,e,n){n&&Mi(t,e,n)&&(e=null);for(var i=-1,r=cu(t),o=r.length,s={};++i<o;){var a=r[i],u=t[a];e?sa.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function ts(t){if(null==t)return[];To(t)||(t=Xs(t));var e=t.length,n=K.support;e=e&&Ri(e)&&(ru(t)||n.nonEnumStrings&&$o(t)||n.nonEnumArgs&&ko(t))&&e||0;for(var i=t.constructor,r=-1,o=su(i)&&i.prototype||ea,s=o===t,a=Fs(e),u=e>0,c=n.enumErrorProps&&(t===ta||t instanceof qs),l=n.enumPrototypes&&su(t);++r<e;)a[r]=r+"";for(var h in t)l&&"prototype"==h||c&&("message"==h||"name"==h)||u&&Pi(h,e)||"constructor"==h&&(s||!sa.call(t,h))||a.push(h);if(n.nonEnumShadows&&t!==ea){var p=t===na?Q:t===ta?W:ua.call(t),f=Ua[p]||Ua[J];for(p==J&&(o=ea),e=Ne.length;e--;){h=Ne[e];var d=f[h];s&&d||(d?!sa.call(t,h):t[h]===o[h])||a.push(h)}}return a}function es(t,e,n){var i={};return e=bi(e,n,3),An(t,function(t,n,r){i[n]=e(t,n,r)}),i}function ns(t,e,n){if(null==t)return{};if("function"!=typeof e){var i=an(Rn(arguments,!1,!1,1),Ys);return Oi(t,xn(ts(t),i))}return e=ni(e,n,3),Ai(t,function(t,n,i){return!e(t,n,i)})}function is(t){for(var e=-1,n=cu(t),i=n.length,r=Fs(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function rs(t,e,n){return null==t?{}:"function"==typeof e?Ai(t,ni(e,n,3)):Oi(t,Rn(arguments,!1,!1,1))}function os(t,e,n){var i=null==t?x:t[e];return"undefined"==typeof i&&(i=n),su(i)?i.call(t):i}function ss(t,e,n,i){var r=ru(t)||jo(t);
if(e=bi(e,i,4),null==n)if(r||To(t)){var o=t.constructor;n=r?ru(t)?new o:[]:Wa(su(o)&&o.prototype)}else n={};return(r?nn:An)(t,function(t,i,r){return e(n,t,i,r)}),n}function as(t){return Zn(t,cu(t))}function us(t){return Zn(t,ts(t))}function cs(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=e&&n>t}function ls(t,e,n){n&&Mi(t,e,n)&&(e=n=null);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Va();return Ia(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return Gn(t,e)}function hs(t){return t=r(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function ps(t){return t=r(t),t&&t.replace(Ce,l)}function fs(t,e,n){t=r(t),e+="";var i=t.length;return n=("undefined"==typeof n?i:Ia(0>n?0:+n||0,i))-e.length,n>=0&&t.indexOf(e,n)==n}function ds(t){return t=r(t),t&&ve.test(t)?t.replace(ge,h):t}function gs(t){return t=r(t),t&&Re.test(t)?t.replace(Me,"\\$&"):t}function ms(t,e,n){t=r(t),e=+e;var i=t.length;if(i>=e||!Pa(e))return t;var o=(e-i)/2,s=ga(o),a=fa(o);return n=fi("",a,n),n.slice(0,s)+t+n}function vs(t,e,n){return t=r(t),t&&fi(t,e,n)+t}function ys(t,e,n){return t=r(t),t&&t+fi(t,e,n)}function _s(t,e,n){return n&&Mi(t,e,n)&&(e=0),Aa(t,e)}function bs(t,e){var n="";if(t=r(t),e=+e,1>e||!t||!Pa(e))return n;do e%2&&(n+=t),e=ga(e/2),t+=t;while(e);return n}function ws(t,e,n){return t=r(t),n=null==n?0:Ia(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function xs(t,e,n){var i=K.templateSettings;n&&Mi(t,e,n)&&(e=n=null),t=r(t),e=gn(gn({},n||e),i,dn);var o,s,a=gn(gn({},e.imports),i.imports,dn),u=cu(a),c=Zn(a,u),l=0,h=e.interpolate||Pe,f="__p += '",d=Js((e.escape||Pe).source+"|"+h.source+"|"+(h===be?we:Pe).source+"|"+(e.evaluate||Pe).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Be+"]")+"\n";t.replace(d,function(e,n,i,r,a,u){return i||(i=r),f+=t.slice(l,u).replace(Te,p),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),f+="';\n";var m=e.variable;m||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(he,""):f).replace(pe,"$1").replace(fe,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Rs(function(){return Ws(u,g+"return "+f).apply(x,c)});if(v.source=f,Io(v))throw v;return v}function Ss(t,e,n){var i=t;return(t=r(t))?(n?Mi(i,e,n):null==e)?t.slice(y(t),_(t)+1):(e+="",t.slice(s(t,e),a(t,e)+1)):t}function ks(t,e,n){var i=t;return t=r(t),t?t.slice((n?Mi(i,e,n):null==e)?y(t):s(t,e+"")):t}function Es(t,e,n){var i=t;return t=r(t),t?(n?Mi(i,e,n):null==e)?t.slice(0,_(t)+1):t.slice(0,a(t,e+"")+1):t}function Cs(t,e,n){n&&Mi(t,e,n)&&(e=null);var i=A,o=V;if(null!=e)if(To(e)){var s="separator"in e?e.separator:s;i="length"in e?+e.length||0:i,o="omission"in e?r(e.omission):o}else i=+e||0;if(t=r(t),i>=t.length)return t;var a=i-o.length;if(1>a)return o;var u=t.slice(0,a);if(null==s)return u+o;if(Lo(s)){if(t.slice(a).search(s)){var c,l,h=t.slice(0,a);for(s.global||(s=Js(s.source,(xe.exec(s)||"")+"g")),s.lastIndex=0;c=s.exec(h);)l=c.index;u=u.slice(0,null==l?a:l)}}else if(t.indexOf(s,a)!=a){var p=u.lastIndexOf(s);p>-1&&(u=u.slice(0,p))}return u+o}function Ps(t){return t=r(t),t&&me.test(t)?t.replace(de,b):t}function Ms(t,e,n){return n&&Mi(t,e,n)&&(e=null),t=r(t),t.match(e||Oe)||[]}function Rs(){var t=arguments.length,e=arguments[0];try{for(var n=Fs(t?t-1:0);--t>0;)n[t-1]=arguments[t];return e.apply(x,n)}catch(i){return Io(i)?i:new qs(i)}}function Is(t,e,n){return n&&Mi(t,e,n)&&(e=null),d(t)?As(t):_n(t,e)}function Ts(t){return function(){return t}}function Os(t){return t}function As(t){return zn(bn(t,!0))}function Vs(t,e){return Dn(t+"",bn(e,!0))}function Ns(t,e,n){if(null==n){var i=To(e),r=i&&cu(e),o=r&&r.length&&Nn(e,r);(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Nn(e,cu(e)));var s=!0,a=-1,u=su(t),c=o.length;n===!1?s=!1:To(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var l=o[a],h=e[l];t[l]=h,u&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__);return(i.__actions__=en(this.__actions__)).push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}var r=[this.value()];return va.apply(r,arguments),e.apply(t,r)}}(h))}return t}function Bs(){return g._=ca,this}function Ls(){}function $s(t){return qn(t+"")}function js(t){return function(e){return null==t?x:t[e]}}function Hs(t,e,n){n&&Mi(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=Ra(fa((e-t)/(n||1)),0),o=Fs(r);++i<r;)o[i]=t,t+=n;return o}function zs(t,e,n){if(t=+t,1>t||!Pa(t))return[];var i=-1,r=Fs(Ia(t,La));for(e=ni(e,n,1);++i<t;)La>i?r[i]=e(i):e(i);return r}function Ds(t){var e=++aa;return r(t)+e}g=g?Ye.defaults(qe.Object(),g,Ye.pick(qe,Ve)):qe;var Fs=g.Array,Us=g.Date,qs=g.Error,Ws=g.Function,Gs=g.Math,Ks=g.Number,Xs=g.Object,Js=g.RegExp,Ys=g.String,Zs=g.TypeError,Qs=Fs.prototype,ta=qs.prototype,ea=Xs.prototype,na=Ys.prototype,ia=(ia=g.window)&&ia.document,ra=Ws.prototype.toString,oa=qn("length"),sa=ea.hasOwnProperty,aa=0,ua=ea.toString,ca=g._,la=Js("^"+gs(ua).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ha=Vo(ha=g.ArrayBuffer)&&ha,pa=Vo(pa=ha&&new ha(0).slice)&&pa,fa=Gs.ceil,da=g.clearTimeout,ga=Gs.floor,ma=Vo(ma=Xs.getPrototypeOf)&&ma,va=Qs.push,ya=ea.propertyIsEnumerable,_a=Vo(_a=g.Set)&&_a,ba=g.setTimeout,wa=Qs.splice,xa=Vo(xa=g.Uint8Array)&&xa,Sa=Vo(Sa=g.WeakMap)&&Sa,ka=function(){try{var t=Vo(t=g.Float64Array)&&t,e=new t(new ha(10),0,1)&&t}catch(n){}return e}(),Ea=Vo(Ea=Fs.isArray)&&Ea,Ca=Vo(Ca=Xs.create)&&Ca,Pa=g.isFinite,Ma=Vo(Ma=Xs.keys)&&Ma,Ra=Gs.max,Ia=Gs.min,Ta=Vo(Ta=Us.now)&&Ta,Oa=Vo(Oa=Ks.isFinite)&&Oa,Aa=g.parseInt,Va=Gs.random,Na=Ks.NEGATIVE_INFINITY,Ba=Ks.POSITIVE_INFINITY,La=Gs.pow(2,32)-1,$a=La-1,ja=La>>>1,Ha=ka?ka.BYTES_PER_ELEMENT:0,za=Gs.pow(2,53)-1,Da=Sa&&new Sa,Fa={};Fa[ne]=g.Float32Array,Fa[ie]=g.Float64Array,Fa[re]=g.Int8Array,Fa[oe]=g.Int16Array,Fa[se]=g.Int32Array,Fa[ae]=g.Uint8Array,Fa[ue]=g.Uint8ClampedArray,Fa[ce]=g.Uint16Array,Fa[le]=g.Uint32Array;var Ua={};Ua[F]=Ua[q]=Ua[X]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ua[U]=Ua[Q]={constructor:!0,toString:!0,valueOf:!0},Ua[W]=Ua[G]=Ua[Y]={constructor:!0,toString:!0},Ua[J]={constructor:!0},nn(Ne,function(t){for(var e in Ua)if(sa.call(Ua,e)){var n=Ua[e];n[t]=sa.call(n,t)}});var qa=K.support={};!function(){var t=function(){this.x=1},e={0:1,length:1},n=[];t.prototype={valueOf:1,y:1};for(var i in new t)n.push(i);qa.argsTag=ua.call(arguments)==D,qa.enumErrorProps=ya.call(ta,"message")||ya.call(ta,"name"),qa.enumPrototypes=ya.call(t,"prototype"),qa.funcDecomp=!Vo(g.WinRTError)&&Ie.test(w),qa.funcNames="string"==typeof Ws.name,qa.nodeTag=ua.call(ia)!=J,qa.nonEnumStrings=!ya.call("x",0),qa.nonEnumShadows=!/valueOf/.test(n),qa.ownLast="x"!=n[0],qa.spliceObjects=(wa.call(e,0,1),!e[0]),qa.unindexedChars="x"[0]+Xs("x")[0]!="xx";try{qa.dom=11===ia.createDocumentFragment().nodeType}catch(r){qa.dom=!1}try{qa.nonEnumArgs=!ya.call(arguments,1)}catch(r){qa.nonEnumArgs=!0}}(0,0),K.templateSettings={escape:ye,evaluate:_e,interpolate:be,variable:"",imports:{_:K}};var Wa=function(){function t(){}return function(e){if(To(e)){t.prototype=e;var n=new t;t.prototype=null}return n||g.Object()}}(),Ga=Da?function(t,e){return Da.set(t,e),t}:Os;pa||(ii=ha&&xa?function(t){var e=t.byteLength,n=ka?ga(e/Ha):0,i=n*Ha,r=new ha(e);if(n){var o=new ka(r,0,n);o.set(new ka(t,0,n))}return e!=i&&(o=new xa(r,i),o.set(new xa(t,i))),r}:Ts(null));var Ka=Ca&&_a?function(t){return new Ze(t)}:Ts(null),Xa=Da?function(t){return Da.get(t)}:Ls,Ja=function(){var t=0,e=0;return function(n,i){var r=iu(),o=B-(r-e);if(e=r,o>0){if(++t>=N)return n}else t=0;return Ga(n,i)}}(),Ya=si(function(t,e,n){sa.call(t,n)?++t[n]:t[n]=1}),Za=si(function(t,e,n){sa.call(t,n)?t[n].push(e):t[n]=[e]}),Qa=si(function(t,e,n){t[n]=e}),tu=hi(un),eu=hi(cn,!0),nu=si(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),iu=Ta||function(){return(new Us).getTime()};qa.argsTag||(ko=function(t){var e=d(t)?t.length:x;return Ri(e)&&sa.call(t,"callee")&&!ya.call(t,"callee")||!1});var ru=Ea||function(t){return d(t)&&Ri(t.length)&&ua.call(t)==F||!1};qa.dom||(Po=function(t){return t&&1===t.nodeType&&d(t)&&!au(t)||!1});var ou=Oa||function(t){return"number"==typeof t&&Pa(t)},su=n(/x/)||xa&&!n(xa)?function(t){return ua.call(t)==G}:n,au=ma?function(t){if(!t||ua.call(t)!=J||!K.support.argsTag&&ko(t))return!1;var e=t.valueOf,n=Vo(e)&&(n=ma(e))&&ma(n);return n?t==n||ma(t)==n:Ni(t)}:Ni,uu=ai(gn),cu=Ma?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||("function"==typeof t?K.support.enumPrototypes:n&&Ri(n))?Bi(t):To(t)?Ma(t):[]}:Bi,lu=ai(Fn),hu=ci(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),pu=ci(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});8!=Aa(Ae+"08")&&(_s=function(t,e,n){return(n?Mi(t,e,n):null==e)?e=0:e&&(e=+e),t=Ss(t),Aa(t,e||(ke.test(t)?16:10))});var fu=ci(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),du=ci(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});return K.prototype=Z.prototype,te.prototype=Wa(Z.prototype),te.prototype.constructor=te,He.prototype=Wa(Z.prototype),He.prototype.constructor=He,Ue.prototype["delete"]=We,Ue.prototype.get=Ge,Ue.prototype.has=Ke,Ue.prototype.set=Xe,Ze.prototype.push=tn,po.Cache=Ue,K.after=Qr,K.ary=to,K.assign=uu,K.at=Tr,K.before=eo,K.bind=no,K.bindAll=io,K.bindKey=ro,K.callback=Is,K.chain=xr,K.chunk=Hi,K.compact=zi,K.constant=Ts,K.countBy=Ya,K.create=Fo,K.curry=oo,K.curryRight=so,K.debounce=ao,K.defaults=Uo,K.defer=uo,K.delay=co,K.difference=Di,K.drop=Fi,K.dropRight=Ui,K.dropRightWhile=qi,K.dropWhile=Wi,K.fill=Gi,K.filter=Ar,K.flatten=Yi,K.flattenDeep=Zi,K.flow=lo,K.flowRight=ho,K.forEach=Lr,K.forEachRight=$r,K.forIn=Go,K.forInRight=Ko,K.forOwn=Xo,K.forOwnRight=Jo,K.functions=Yo,K.groupBy=Za,K.indexBy=Qa,K.initial=tr,K.intersection=er,K.invert=Qo,K.invoke=Hr,K.keys=cu,K.keysIn=ts,K.map=zr,K.mapValues=es,K.matches=As,K.matchesProperty=Vs,K.memoize=po,K.merge=lu,K.mixin=Ns,K.negate=fo,K.omit=ns,K.once=go,K.pairs=is,K.partial=mo,K.partialRight=vo,K.partition=nu,K.pick=rs,K.pluck=Dr,K.property=$s,K.propertyOf=js,K.pull=rr,K.pullAt=or,K.range=Hs,K.rearg=yo,K.reject=qr,K.remove=sr,K.rest=ar,K.shuffle=Gr,K.slice=ur,K.sortBy=Jr,K.sortByAll=Yr,K.spread=_o,K.take=hr,K.takeRight=pr,K.takeRightWhile=fr,K.takeWhile=dr,K.tap=Sr,K.throttle=bo,K.thru=kr,K.times=zs,K.toArray=zo,K.toPlainObject=Do,K.transform=ss,K.union=gr,K.uniq=mr,K.unzip=vr,K.values=as,K.valuesIn=us,K.where=Zr,K.without=yr,K.wrap=wo,K.xor=_r,K.zip=br,K.zipObject=wr,K.backflow=ho,K.collect=zr,K.compose=ho,K.each=Lr,K.eachRight=$r,K.extend=uu,K.iteratee=Is,K.methods=Yo,K.object=wr,K.select=Ar,K.tail=ar,K.unique=mr,Ns(K,K),K.attempt=Rs,K.camelCase=hu,K.capitalize=hs,K.clone=xo,K.cloneDeep=So,K.deburr=ps,K.endsWith=fs,K.escape=ds,K.escapeRegExp=gs,K.every=Or,K.find=Vr,K.findIndex=Ki,K.findKey=qo,K.findLast=Nr,K.findLastIndex=Xi,K.findLastKey=Wo,K.findWhere=Br,K.first=Ji,K.has=Zo,K.identity=Os,K.includes=jr,K.indexOf=Qi,K.inRange=cs,K.isArguments=ko,K.isArray=ru,K.isBoolean=Eo,K.isDate=Co,K.isElement=Po,K.isEmpty=Mo,K.isEqual=Ro,K.isError=Io,K.isFinite=ou,K.isFunction=su,K.isMatch=Oo,K.isNaN=Ao,K.isNative=Vo,K.isNull=No,K.isNumber=Bo,K.isObject=To,K.isPlainObject=au,K.isRegExp=Lo,K.isString=$o,K.isTypedArray=jo,K.isUndefined=Ho,K.kebabCase=pu,K.last=nr,K.lastIndexOf=ir,K.max=tu,K.min=eu,K.noConflict=Bs,K.noop=Ls,K.now=iu,K.pad=ms,K.padLeft=vs,K.padRight=ys,K.parseInt=_s,K.random=ls,K.reduce=Fr,K.reduceRight=Ur,K.repeat=bs,K.result=os,K.runInContext=w,K.size=Kr,K.snakeCase=fu,K.some=Xr,K.sortedIndex=cr,K.sortedLastIndex=lr,K.startCase=du,K.startsWith=ws,K.template=xs,K.trim=Ss,K.trimLeft=ks,K.trimRight=Es,K.trunc=Cs,K.unescape=Ps,K.uniqueId=Ds,K.words=Ms,K.all=Or,K.any=Xr,K.contains=jr,K.detect=Vr,K.foldl=Fr,K.foldr=Ur,K.head=Ji,K.include=jr,K.inject=Fr,Ns(K,function(){var t={};return An(K,function(e,n){K.prototype[n]||(t[n]=e)}),t}(),!1),K.sample=Wr,K.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Wr(e,t)}):Wr(this.value())},K.VERSION=S,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){K[t].placeholder=K}),nn(["filter","map","takeWhile"],function(t,e){var n=e==L,i=e==j;He.prototype[t]=function(t,r){var o=this.clone(),s=o.__filtered__,a=o.__iteratees__||(o.__iteratees__=[]);return o.__filtered__=s||n||i&&o.__dir__<0,a.push({iteratee:bi(t,r,3),type:e}),o}}),nn(["drop","take"],function(t,e){var n="__"+t+"Count__",i=t+"While";He.prototype[t]=function(i){i=null==i?1:Ra(ga(i)||0,0);var r=this.clone();if(r.__filtered__){var o=r[n];r[n]=e?Ia(o,i):o+i}else{var s=r.__views__||(r.__views__=[]);s.push({size:i,type:t+(r.__dir__<0?"Right":"")})}return r},He.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},He.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[i](t,e).reverse()}}),nn(["first","last"],function(t,e){var n="take"+(e?"Right":"");He.prototype[t]=function(){return this[n](1).value()[0]}}),nn(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");He.prototype[t]=function(){return this[n](1)}}),nn(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?zn:qn;He.prototype[t]=function(t){return this[n](i(t))}}),He.prototype.compact=function(){return this.filter(Os)},He.prototype.dropWhile=function(t,e){var n;return t=bi(t,e,3),this.filter(function(e,i,r){return n||(n=!t(e,i,r))})},He.prototype.reject=function(t,e){return t=bi(t,e,3),this.filter(function(e,n,i){return!t(e,n,i)})},He.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof e&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},He.prototype.toArray=function(){return this.drop(0)},An(He.prototype,function(t,e){var n=K[e],i=/^(?:first|last)$/.test(e);K.prototype[e]=function(){var e=this.__wrapped__,r=arguments,o=this.__chain__,s=!!this.__actions__.length,a=e instanceof He,u=a&&!s;if(i&&!o)return u?t.call(e):n.call(K,this.value());var c=function(t){var e=[t];return va.apply(e,r),n.apply(K,e)};if(a||ru(e)){var l=u?e:new He(this),h=t.apply(l,r);if(!i&&(s||h.__actions__)){var p=h.__actions__||(h.__actions__=[]);p.push({func:kr,args:[c],thisArg:K})}return new te(h,o)}return this.thru(c)}}),nn(["concat","join","pop","push","shift","sort","splice","unshift"],function(t){var e=Qs[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=!qa.spliceObjects&&/^(?:pop|shift|splice)$/.test(t),r=/^(?:join|pop|shift)$/.test(t),o=i?function(){var t=e.apply(this,arguments);return 0===this.length&&delete this[0],t}:e;K.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?o.apply(this.value(),t):this[n](function(e){return o.apply(e,t)})}}),He.prototype.clone=ze,He.prototype.reverse=De,He.prototype.value=Fe,K.prototype.chain=Er,K.prototype.commit=Cr,K.prototype.plant=Pr,K.prototype.reverse=Mr,K.prototype.toString=Rr,K.prototype.run=K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=Ir,K.prototype.collect=K.prototype.map,K.prototype.head=K.prototype.first,K.prototype.select=K.prototype.filter,K.prototype.tail=K.prototype.rest,K}var x,S="3.3.0",k=1,E=2,C=4,P=8,M=16,R=32,I=64,T=128,O=256,A=30,V="...",N=150,B=16,L=0,$=1,j=2,H="Expected a function",z="__lodash_placeholder__",D="[object Arguments]",F="[object Array]",U="[object Boolean]",q="[object Date]",W="[object Error]",G="[object Function]",K="[object Map]",X="[object Number]",J="[object Object]",Y="[object RegExp]",Z="[object Set]",Q="[object String]",te="[object WeakMap]",ee="[object ArrayBuffer]",ne="[object Float32Array]",ie="[object Float64Array]",re="[object Int8Array]",oe="[object Int16Array]",se="[object Int32Array]",ae="[object Uint8Array]",ue="[object Uint8ClampedArray]",ce="[object Uint16Array]",le="[object Uint32Array]",he=/\b__p \+= '';/g,pe=/\b(__p \+=) '' \+/g,fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,de=/&(?:amp|lt|gt|quot|#39|#96);/g,ge=/[&<>"'`]/g,me=RegExp(de.source),ve=RegExp(ge.source),ye=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,be=/<%=([\s\S]+?)%>/g,we=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xe=/\w*$/,Se=/^\s*function[ \n\r\t]+\w/,ke=/^0[xX]/,Ee=/^\[object .+?Constructor\]$/,Ce=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Pe=/($^)/,Me=/[.*+?^${}()|[\]\/\\]/g,Re=RegExp(Me.source),Ie=/\bthis\b/,Te=/['\n\r\u2028\u2029\\]/g,Oe=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"{2,}(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Ae=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Ne=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Be=-1,Le={};Le[ne]=Le[ie]=Le[re]=Le[oe]=Le[se]=Le[ae]=Le[ue]=Le[ce]=Le[le]=!0,Le[D]=Le[F]=Le[ee]=Le[U]=Le[q]=Le[W]=Le[G]=Le[K]=Le[X]=Le[J]=Le[Y]=Le[Z]=Le[Q]=Le[te]=!1;var $e={};$e[D]=$e[F]=$e[ee]=$e[U]=$e[q]=$e[ne]=$e[ie]=$e[re]=$e[oe]=$e[se]=$e[X]=$e[J]=$e[Y]=$e[Q]=$e[ae]=$e[ue]=$e[ce]=$e[le]=!0,$e[W]=$e[G]=$e[K]=$e[Z]=$e[te]=!1;var je={leading:!1,maxWait:0,trailing:!1},He={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},De={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Fe={"function":!0,object:!0},Ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=Fe[typeof window]&&window!==(this&&this.window)?window:this,We=Fe[typeof exports]&&exports&&!exports.nodeType&&exports,Ge=Fe[typeof module]&&module&&!module.nodeType&&module,Ke=We&&Ge&&"object"==typeof global&&global;!Ke||Ke.global!==Ke&&Ke.window!==Ke&&Ke.self!==Ke||(qe=Ke);var Xe=Ge&&Ge.exports===We&&We,Je=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Ye=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qe._=Ye,define("underscore",[],function(){return Ye})):We&&Ge?Xe?(Ge.exports=Ye)._=Ye:We._=Ye:qe._=Ye}).call(this),function(t,e){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){t.Backbone=e(t,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){{var r=t.Backbone,o=[],s=(o.push,o.slice);o.splice}e.VERSION="1.1.2",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,i){if(!c(this,"once",t,[e,i])||!e)return this;var r=this,o=n.once(function(){r.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,i)},off:function(t,e,i){var r,o,s,a,u,l,h,p;if(!this._events||!c(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(a=t?[t]:n.keys(this._events),u=0,l=a.length;l>u;u++)if(t=a[u],s=this._events[t]){if(this._events[t]=r=[],e||i)for(h=0,p=s.length;p>h;h++)o=s[h],(e&&e!==o.callback&&e!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&l(n,e),i&&l(i,arguments),this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var o=!e&&!i;i||"object"!=typeof e||(i=this),t&&((r={})[t._listenId]=t);for(var s in r)t=r[s],t.off(e,i,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},u=/\s+/,c=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},l=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(t,e){a[e]=function(e,i,r){var o=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=n.uniqueId("l"));return o[s]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var p=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,o,s,a,u,c,l,h;if(null==t)return this;if("object"==typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;s=i.unset,u=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)e=o[r],n.isEqual(h[r],e)||a.push(r),n.isEqual(l[r],e)?delete this.changed[r]:this.changed[r]=e,s?delete h[r]:h[r]=e;if(!u){a.length&&(this._pending=i);for(var p=0,f=a.length;f>p;p++)this.trigger("change:"+a[p],this,h[a[p]],i)}if(c)return this;if(!u)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(r[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),void e.trigger("sync",e,n,t)):!1},L(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,o,s,a=this.attributes;if(null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},a,r)),void 0===i.parse&&(i.parse=!0);var u=this,c=i.success;return i.success=function(t){u.attributes=a;var e=u.parse(t,i);return i.wait&&(e=n.extend(r||{},e)),n.isObject(e)&&!u.set(e,i)?!1:(c&&c(u,t,i),void u.trigger("sync",u,t,i))},L(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),s=this.sync(o,this,i),r&&i.wait&&(this.attributes=a),s},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;L(this,t);var o=this.sync("delete",this,t);return t.wait||r(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||B();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];n.each(f,function(t){p.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(d.prototype,a,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,m))},remove:function(t,e){var i=!n.isArray(t);t=i?[t]:n.clone(t),e||(e={});var r,o,s,a;for(r=0,o=t.length;o>r;r++)a=t[r]=this.get(t[r]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a,e));return i?t[0]:t},set:function(t,e){e=n.defaults({},e,g),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:n.clone(t);var r,o,s,a,u,c,l,h=e.at,f=this.model,d=this.comparator&&null==h&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,v=[],y=[],_={},b=e.add,w=e.merge,x=e.remove,S=!d&&b&&x?[]:!1;for(r=0,o=t.length;o>r;r++){if(u=t[r]||{},s=u instanceof p?a=u:u[f.prototype.idAttribute||"id"],c=this.get(s))x&&(_[c.cid]=!0),w&&(u=u===a?a.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),d&&!l&&c.hasChanged(m)&&(l=!0)),t[r]=c;else if(b){if(a=t[r]=this._prepareModel(u,e),!a)continue;v.push(a),this._addReference(a,e)}a=c||a,!S||!a.isNew()&&_[a.id]||S.push(a),_[a.id]=!0}if(x){for(r=0,o=this.length;o>r;++r)_[(a=this.models[r]).cid]||y.push(a);y.length&&this.remove(y,e)}if(v.length||S&&S.length)if(d&&(l=!0),this.length+=v.length,null!=h)for(r=0,o=v.length;o>r;r++)this.models.splice(h+r,0,v[r]);else{S&&(this.models.length=0);var k=S||v;for(r=0,o=k.length;o>r;r++)this.models.push(k[r])}if(l&&this.sort({silent:!0}),!e.silent){for(r=0,o=v.length;o>r;r++)(a=v[r]).trigger("add",a,this,e);(l||S&&S.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),r&&r(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){d.prototype[t]=function(e,i){var r=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,r,i)}});var _=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(_.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var r=e.match(b),o=r[1],s=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,i):this.$el.on(o,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));
var i=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,r){var o=S[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||B()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1),"PATCH"===s.type&&x&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,u,r),u};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,P=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,a,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s),o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(E,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var R=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,O=/msie [\w.]+/,A=/\/$/,V=/#.*$/;R.started=!1,n.extend(R.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(A,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(I,"")},start:function(t){if(R.started)throw new Error("Backbone.history has already been started");R.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=O.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(T,"/"),o&&this._wantsHashChange){var s=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!R.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(V,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new R;var N=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};p.extend=d.extend=k.extend=_.extend=R.extend=N;var B=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}};return e}),function(t,e){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore"],function(n,i){return t.Marionette=t.Mn=e(t,n,i)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=e(t,n,i)}else t.Marionette=t.Mn=e(t,t.Backbone,t._)}(this,function(t,e,n){!function(t,e){var n=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){return t===n?(delete this._indexByCustom[e],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,function(i){e.isFunction(i[t])&&i[t].apply(i,n||[])})},_updateLength:function(){this.length=e.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(i,function(t){n.prototype[t]=function(){var n=e.values(this._views),i=[n].concat(e.toArray(arguments));return e[t].apply(e,i)}}),n}(t,e),t.ChildViewContainer.VERSION="0.1.5",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer}(e,n),function(t,e){var n=t.Wreqr,i=t.Wreqr={};return t.Wreqr.VERSION="1.3.1",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},i.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,n){var i=null;e.isObject(t)&&!e.isFunction(t)&&(i=t.context,t=t.callback),this.setHandler(n,t,i)},this)},setHandler:function(t,e,n){var i={callback:e,context:n};this._wreqrHandlers[t]=i,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),i.CommandStorage=function(){var n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var n=this.getCommands(t);n.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),n}(),i.Commands=function(t){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);t.Handlers.prototype.constructor.apply(this,n)},execute:function(t,e){t=arguments[0],e=Array.prototype.slice.call(arguments,1),this.hasHandler(t)?this.getHandler(t).apply(this,e):this.storage.addCommand(t,e)},_executeCommands:function(t,n,i){var r=this.storage.getCommands(t);e.each(r.instances,function(t){n.apply(i,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,i=t.storageType||this.storageType;n=e.isFunction(i)?new i:i,this.storage=n}})}(i),i.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return this.hasHandler(t)?this.getHandler(t).apply(this,e):void 0}})}(i),i.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),i.Channel=function(){var n=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,i){if(n){i=i||this;var r="vent"===t?"on":"setHandler";e.each(n,function(n,o){this[t][r](o,e.bind(n,i))},this)}}}),n}(i),i.radio=function(t){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(i[t],function(e){this[t][e]=r(this,t,e)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,e,n){return function(i){var r=t._getChannel(i)[e],o=Array.prototype.slice.call(arguments,1);return r[n].apply(r,o)}};return new n}(i),t.Wreqr}(e,n);var i=t.Marionette,r=e.Marionette={};r.VERSION="2.3.2",r.noConflict=function(){return t.Marionette=i,this},e.Marionette=r,r.Deferred=e.$.Deferred,r.extend=e.Model.extend,r.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},r.getOption=function(t,e){return t&&e?t.options&&void 0!==t.options[e]?t.options[e]:t[e]:void 0},r.proxyGetOption=function(t){return r.getOption(this,t)},r._getValue=function(t,e,i){return n.isFunction(t)&&(i=i||[],t=t.apply(e,i)),t},r.normalizeMethods=function(t){return n.reduce(t,function(t,e,i){return n.isFunction(e)||(e=this[e]),e&&(t[i]=e),t},{},this)},r.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(t){return e[t.slice(4)]})},r.normalizeUIKeys=function(t,e){return n.reduce(t,function(t,n,i){var o=r.normalizeUIString(i,e);return t[o]=n,t},{})},r.normalizeUIValues=function(t,e){return n.each(t,function(i,o){n.isString(i)&&(t[o]=r.normalizeUIString(i,e))}),t},r.actAsCollection=function(t,e){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){t[i]=function(){var t=n.values(n.result(this,e)),r=[t].concat(n.toArray(arguments));return n[i].apply(n,r)}})};var o=r.deprecate=function(t,e){n.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||o._cache[t]||(o._warn("Deprecation warning: "+t),o._cache[t]=!0)};o._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},o._cache={},r._triggerMethod=function(){function t(t,e,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi;return function(i,r,o){var s=arguments.length<3;s&&(o=r,r=o[0]);var a,u="on"+r.replace(e,t),c=i[u];return n.isFunction(c)&&(a=c.apply(i,s?n.rest(o):o)),n.isFunction(i.trigger)&&(s+o.length>1?i.trigger.apply(i,s?o:[r].concat(n.rest(o,0))):i.trigger(r)),a}}(),r.triggerMethod=function(){return r._triggerMethod(this,arguments)},r.triggerMethodOn=function(t){var e=n.isFunction(t.triggerMethod)?t.triggerMethod:r.triggerMethod;return e.apply(t,n.rest(arguments))},r.MonitorDOMRefresh=function(t){function e(){t._isShown=!0,o()}function i(){t._isRendered=!0,o()}function o(){t._isShown&&t._isRendered&&r.isNodeAttached(t.el)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}t.on({show:e,render:i})},function(t){function e(e,i,r,o){var s=o.split(/\s+/);n.each(s,function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(i,r,o)})}function i(t,e,n,i){t.listenTo(e,n,i)}function r(t,e,i,r){var o=r.split(/\s+/);n.each(o,function(n){var r=t[n];t.stopListening(e,i,r)})}function o(t,e,n,i){t.stopListening(e,n,i)}function s(e,i,r,o,s){if(i&&r){if(!n.isObject(r))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=t._getValue(r,e),n.each(r,function(t,r){n.isFunction(t)?o(e,i,r,t):s(e,i,r,t)})}}t.bindEntityEvents=function(t,n,r){s(t,n,r,i,e)},t.unbindEntityEvents=function(t,e,n){s(t,e,n,o,r)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(r);var s=["description","fileName","lineNumber","name","message","number"];return r.Error=r.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+r.VERSION+"/",constructor:function(t,e){n.isObject(t)?(e=t,t=e.message):e||(e={});var i=Error.call(this,t);n.extend(this,n.pick(i,s),n.pick(e,s)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,r.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),r.Error.extend=r.extend,r.Callbacks=function(){this._deferred=r.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(t,e){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),i.then(function(n){e&&(n.context=e),t.call(n.context,n.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=r.Deferred(),this._callbacks=[],n.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),r.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,e.Events,{destroy:function(){return r._triggerMethod(this,"before:destroy",arguments),r._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption}),r.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},r.Object.extend=r.extend,n.extend(r.Object.prototype,e.Events,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening()},triggerMethod:r.triggerMethod,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.Region=r.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new r.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),r.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t);var n=e||{},i=t!==this.currentView,o=!!n.preventDestroy,s=!!n.forceShow,a=!!this.currentView,u=i&&!o,c=i||s;if(a&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&delete this.currentView._parent,u?this.empty():a&&c&&this.currentView.off("destroy",this.empty,this),c){t.once("destroy",this.empty,this),t.render(),t._parent=this,a&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),r.triggerMethodOn(t,"before:show",t,this,e),a&&this.triggerMethod("swapOut",this.currentView,this,e);var l=r.isNodeAttached(this.el),h=[],p=n.triggerBeforeAttach||this.triggerBeforeAttach,f=n.triggerAttach||this.triggerAttach;return l&&p&&(h=this._displayedViews(t),this._triggerAttach(h,"before:")),this.attachHtml(t),this.currentView=t,l&&f&&(h=this._displayedViews(t),this._triggerAttach(h)),a&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),r.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var i=(e||"")+"attach";n.each(t,function(t){r.triggerMethodOn(t,i,t,this)},this)},_displayedViews:function(t){return n.union([t],n.result(t,"_getNestedViews")||[])},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new r.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new r.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,r._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(){var t=this.currentView;if(t)return t.off("destroy",this.empty,this),this.triggerMethod("before:empty",t),this._destroyView(),this.triggerMethod("empty",t),delete this.currentView,this},_destroyView:function(){var t=this.currentView;t.destroy&&!t.isDestroyed?t.destroy():t.remove&&(t.remove(),t.isDestroyed=!0)},attachView:function(t){return this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new r.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var i=t.regionClass||e,r=n.omit(t,"selector","regionClass");return t.selector&&!r.el&&(r.el=t.selector),new i(r)},_buildRegionFromRegionClass:function(t){return new t}}),r.RegionManager=r.Controller.extend({constructor:function(t){this._regions={},r.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=r._getValue(t,this,arguments),n.reduce(t,function(t,i,r){return n.isString(i)&&(i={selector:i}),i.selector&&(i=n.defaults({},i,e)),t[r]=this.addRegion(r,i),t},{},this)},addRegion:function(t,e){var n;return n=e instanceof r.Region?e:r.Region.buildRegion(e,r.Region),this.triggerMethod("before:add:region",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return n.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),r.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]=e,this._setLength()},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this._setLength(),this.triggerMethod("remove:region",t,e)},_setLength:function(){this.length=n.size(this._regions)}}),r.actAsCollection(r.RegionManager.prototype,"_regions"),r.TemplateCache=function(t){this.templateId=t},n.extend(r.TemplateCache,{templateCaches:{},get:function(t){var e=this.templateCaches[t];return e||(e=new r.TemplateCache(t),this.templateCaches[t]=e),e.load()},clear:function(){var t,e=n.toArray(arguments),i=e.length;if(i>0)for(t=0;i>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(t),this.compiledTemplate},loadTemplate:function(t){var n=e.$(t).html();if(!n||0===n.length)throw new r.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return n},compileTemplate:function(t){return n.template(t)}}),r.Renderer={render:function(t,e){if(!t)throw new r.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=n.isFunction(t)?t:r.TemplateCache.get(t);return i(e)}},r.View=e.View.extend({isDestroyed:!1,constructor:function(t){n.bindAll(this,"render"),t=r._getValue(t,this),this.options=n.extend({},n.result(this,"options"),t),this._behaviors=r.Behaviors(this),e.View.apply(this,arguments),r.MonitorDOMRefresh(this),this.on("show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,n.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=r._getValue(e,this),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"_uiBindings");return r.normalizeUIKeys(t,e||n.result(this,"ui"))},normalizeUIValues:function(t){var e=n.result(this,"ui"),i=n.result(this,"_uiBindings");return r.normalizeUIValues(t,i||e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(t,function(t,e,n){return t[n]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var i=r._getValue(t||this.events,this);i=this.normalizeUIKeys(i),n.isUndefined(t)&&(this.events=i);var o={},s=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),u=n.result(this,"behaviorTriggers")||{};n.extend(o,s,i,a,u),e.View.prototype.delegateEvents.call(this,o)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(!this.isDestroyed){var t=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.remove(),n.invoke(this._behaviors,"destroy",t),this}},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.isObject(t),i=n.defaults({},e?t:{},{preventDefault:!0,stopPropagation:!0}),r=e?i.event:t;return function(t){t&&(t.preventDefault&&i.preventDefault&&t.preventDefault(),t.stopPropagation&&i.stopPropagation&&t.stopPropagation());var e={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,e)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){for(var t=r._triggerMethod,e=t(this,arguments),n=this._behaviors,i=0,o=n&&n.length;o>i;i++)t(n[i],arguments);return e},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?n.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},normalizeMethods:r.normalizeMethods,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.ItemView=r.View.extend({constructor:function(){r.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){if(!t)throw new r.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.serializeData();e=this.mixinTemplateHelpers(e);var n=r.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this}}),r.CollectionView=r.View.extend({childViewEventPrefix:"childview",constructor:function(t){var e=t||{};n.isUndefined(this.sort)&&(this.sort=n.isUndefined(e.sort)?!0:e.sort),this.once("render",this._initialEvents),this._initChildViewStorage(),r.View.apply(this,arguments),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"before:show"))},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"show")),this._bufferedChildren=[])},_triggerMethodOnChild:function(t,e){r.triggerMethodOn(e,t)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t){this.destroyEmptyView();var e=this.getChildView(t),n=this.collection.indexOf(t);this.addChild(t,e,n)},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},onShowCalled:function(){this.children.each(n.partial(this._triggerMethodOnChild,"show"))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},resortView:function(){this.render()},_sortViews:function(){var t=this.collection.find(function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e},this);t&&this.resortView()},_emptyViewIndex:-1,_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this))},showCollection:function(){var t;this.collection.each(function(e,n){t=this.getChildView(e),this.addChild(e,t,n)},this)},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var i=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(i)&&(i=i.call(this,t,this._emptyViewIndex));var o=this.buildChildView(t,e,i);o._parent=this,this.proxyChildEvents(o),this._isShown&&r.triggerMethodOn(o,"before:show"),this.children.add(o),this.renderChildView(o,this._emptyViewIndex),this._isShown&&r.triggerMethodOn(o,"show")},getChildView:function(){var t=this.getOption("childView");if(!t)throw new r.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},addChild:function(t,e,n){var i=this.getOption("childViewOptions");i=r._getValue(i,this,[t,n]);var o=this.buildChildView(t,e,i);return this._updateIndices(o,!0,n),this._addChildView(o,n),o._parent=this,o},_updateIndices:function(t,e,n){this.sort&&(e&&(t._index=n),this.children.each(function(n){n._index>=t._index&&(n._index+=e?1:-1)
}))},_addChildView:function(t,e){this.proxyChildEvents(t),this.triggerMethod("before:add:child",t),this.children.add(t),this.renderChildView(t,e),this._isShown&&!this.isBuffering&&r.triggerMethodOn(t,"show"),this.triggerMethod("add:child",t)},renderChildView:function(t,e){return t.render(),this.attachHtml(this,t,e),t},buildChildView:function(t,e,i){var r=n.extend({model:t},i);return new e(r)},removeChildView:function(t){return t&&(this.triggerMethod("before:remove:child",t),t.destroy?t.destroy():t.remove&&t.remove(),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1)),t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},attachHtml:function(t,e,n){t.isBuffering?(t.elBuffer.appendChild(e.el),t._bufferedChildren.push(e)):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n,i=this.sort&&e<this.children.length-1;return i&&(n=this.children.find(function(t){return t._index===e+1})),n?(n.$el.before(t.el),!0):!1},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?void 0:(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),r.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){var t=this.children.map(n.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),t},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var i=n.toArray(arguments),r=i[0],o=this.normalizeMethods(n.result(this,"childEvents"));i[0]=e+":"+r,i.splice(1,0,t),"undefined"!=typeof o&&n.isFunction(o[r])&&o[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)},this)},_getImmediateChildren:function(){return n.values(this.children._views)}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){var t=this.getOption("childView")||this.constructor;return t},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&r.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=r.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);n.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},getChildViewContainer:function(t){if("$childViewContainer"in t)return t.$childViewContainer;var e,n=r.getOption(t,"childViewContainer");if(n){var i=r._getValue(n,t);if(e="@"===i.charAt(0)&&t.ui?t.ui[i.substr(4)]:t.$(i),e.length<=0)throw new r.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else e=t.$el;return t.$childViewContainer=e,e},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),r.LayoutView=r.ItemView.extend({regionClass:r.Region,constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),r.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.regionManager.destroy(),r.ItemView.prototype.destroy.apply(this,arguments))},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=r._getValue(this.regions,this,[t])||{};var i=this.getOption.call(t,"regions");i=r._getValue(i,this,[t]),n.extend(e,i),e=this.normalizeUIValues(e),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new r.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),r.Behavior=r.Object.extend({constructor:function(t,e){this.view=e,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,t),r.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){this.stopListening()},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),r.Behaviors=function(t,e){function n(t,i){return e.isObject(t.behaviors)?(i=n.parseBehaviors(t,i||e.result(t,"behaviors")),n.wrap(t,i,e.keys(o)),i):{}}function i(t,n){this._view=t,this._viewUI=e.result(t,"ui"),this._behaviors=n,this._triggers={}}var r=/^(\S+)\s*(.*)$/,o={behaviorTriggers:function(t,e){var n=new i(this,e);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var o={},s=this._uiBindings||e.result(this,"ui");return e.each(i,function(n,i){var a={},u=e.clone(e.result(n,"events"))||{},c=n._uiBindings||e.result(n,"ui"),l=e.extend({},s,c);u=t.normalizeUIKeys(u,l);var h=0;e.each(u,function(t,o){var s=o.match(r),u=s[1]+"."+[this.cid,i,h++," "].join(""),c=s[2],l=u+c,p=e.isFunction(t)?t:n[t];a[l]=e.bind(p,n)},this),o=e.extend(o,a)},this),o}};return e.extend(n,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t._getValue(n.behaviorsLookup,this,[e,i])[i]},parseBehaviors:function(t,i){return e.chain(i).map(function(i,r){var o=n.getBehaviorClass(i,r),s=new o(i,t),a=n.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(t,n,i){e.each(i,function(i){t[i]=e.partial(o[i],t[i],n)})}}),e.extend(i.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var r=e.extend({},this._viewUI,e.result(n,"ui")),o=e.clone(e.result(n,"triggers"))||{};o=t.normalizeUIKeys(o,r),e.each(o,e.bind(this._setHandlerForBehavior,this,n,i))},_setHandlerForBehavior:function(t,e,n,i){var r=i.replace(/^\S+/,function(t){return t+".behaviortriggers"+e});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(r,n),r.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){if(n.isFunction(this.onRoute)){var i=n.invert(this.getOption("appRoutes"))[t];this.onRoute(t,i,e)}},processAppRoutes:function(t,e){if(e){var i=n.keys(e).reverse();n.each(i,function(n){this._addAppRoute(t,n,e[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,i){var o=t[i];if(!o)throw new r.Error('Method "'+i+'" was not found on the controller');this.route(e,i,n.bind(o,t))},getOption:r.proxyGetOption,triggerMethod:r.triggerMethod,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.Application=r.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new r.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),r.Object.call(this,t)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var i=r.Module.getClass(e),o=n.toArray(arguments);return o.unshift(this),i.create.apply(i,o)},getRegionManager:function(){return new r.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var i=r.getOption(t,"regions");return n.isFunction(i)&&(i=i.call(this,t)),n.extend(e,i),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){r._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,r._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){r._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(t){delete this[t],r._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),r.Module=function(t,e,i){this.moduleName=t,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},r.Module.extend=r.extend,n.extend(r.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,i){if(t){var o=n.flatten([this,this.app,e,r,e.$,n,i]);t.apply(this,o)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks},triggerMethod:r.triggerMethod}),n.extend(r.Module,{create:function(t,e,i){var r=t,o=n.rest(arguments,3);e=e.split(".");var s=e.length,a=[];return a[s-1]=i,n.each(e,function(e,n){var s=r;r=this._getModule(s,e,t,i),this._addModuleDefinition(s,r,a[n],o)},this),r},_getModule:function(t,e,i,r){var o=n.extend({},r),s=this.getClass(r),a=t[e];return a||(a=new s(e,i,o),t[e]=a,t.submodules[e]=a),a},getClass:function(t){var e=r.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,i){var r=this._getDefine(n),o=this._getStartWithParent(n,e);r&&e.addDefinition(r,i),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var i;return n.isFunction(t)&&t.prototype instanceof r.Module?(i=e.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(t)?(i=t.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof r.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),r}),define("app",["backbone","marionette"],function(t,e){var n=new e.Application;return n.addRegions({mainRegion:"body"}),n.on("start",function(){t.history&&t.history.start()}),window.App=n}),function(t){define("modernizr",[],function(){return function(){return window.Modernizr=function(t,e,n){function i(t){_.cssText=t}function r(t,e){return i(S.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var i in t){var r=t[i];if(!s(r,"-")&&_[r]!==n)return"pfx"==e?r:!0}return!1}function u(t,e,i){for(var r in t){var s=e[t[r]];if(s!==n)return i===!1?t[r]:o(s,"function")?s.bind(i||e):s}return!1}function c(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+E.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?a(r,e):(r=(t+" "+C.join(i+" ")+i).split(" "),u(r,e,n))}function l(){d.input=function(n){for(var i=0,r=n.length;r>i;i++)I[n[i]]=!!(n[i]in b);return I.list&&(I.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),d.inputtypes=function(t){for(var i,r,o,s=0,a=t.length;a>s;s++)b.setAttribute("type",r=t[s]),i="text"!==b.type,i&&(b.value=w,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&b.style.WebkitAppearance!==n?(m.appendChild(b),o=e.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,m.removeChild(b)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?b.checkValidity&&b.checkValidity()===!1:b.value!=w)),R[t[s]]=!!i;return R}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var h,p,f="2.8.3",d={},g=!0,m=e.documentElement,v="modernizr",y=e.createElement(v),_=y.style,b=e.createElement("input"),w=":)",x={}.toString,S=" -webkit- -moz- -o- -ms- ".split(" "),k="Webkit Moz O ms",E=k.split(" "),C=k.toLowerCase().split(" "),P={svg:"http://www.w3.org/2000/svg"},M={},R={},I={},T=[],O=T.slice,A=function(t,n,i,r){var o,s,a,u,c=e.createElement("div"),l=e.body,h=l||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=r?r[i]:v+(i+1),c.appendChild(a);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),c.id=v,(l?c:h).innerHTML+=o,h.appendChild(c),l||(h.style.background="",h.style.overflow="hidden",u=m.style.overflow,m.style.overflow="hidden",m.appendChild(h)),s=n(c,t),l?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),m.style.overflow=u),!!s},V=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var i;return A("@media "+e+" { #"+v+" { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),i},N=function(){function t(t,r){r=r||e.createElement(i[t]||"div"),t="on"+t;var s=t in r;return s||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(t,""),s=o(r[t],"function"),o(r[t],"undefined")||(r[t]=n),r.removeAttribute(t))),r=null,s}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),B={}.hasOwnProperty;p=o(B,"undefined")||o(B.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return B.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=O.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,s=e.apply(o,n.concat(O.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(O.call(arguments)))};return i}),M.flexbox=function(){return c("flexWrap")},M.flexboxlegacy=function(){return c("boxDirection")},M.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},M.canvastext=function(){return!(!d.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},M.webgl=function(){return!!t.WebGLRenderingContext},M.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:A(["@media (",S.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},M.geolocation=function(){return"geolocation"in navigator},M.postmessage=function(){return!!t.postMessage},M.websqldatabase=function(){return!!t.openDatabase},M.indexedDB=function(){return!!c("indexedDB",t)},M.hashchange=function(){return N("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},M.history=function(){return!(!t.history||!history.pushState)},M.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},M.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},M.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(_.backgroundColor,"rgba")},M.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),s(_.backgroundColor,"rgba")||s(_.backgroundColor,"hsla")},M.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(_.background)},M.backgroundsize=function(){return c("backgroundSize")},M.borderimage=function(){return c("borderImage")},M.borderradius=function(){return c("borderRadius")},M.boxshadow=function(){return c("boxShadow")},M.textshadow=function(){return""===e.createElement("div").style.textShadow},M.opacity=function(){return r("opacity:.55"),/^0.55$/.test(_.opacity)},M.cssanimations=function(){return c("animationName")},M.csscolumns=function(){return c("columnCount")},M.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((t+"-webkit- ".split(" ").join(e+t)+S.join(n+t)).slice(0,-t.length)),s(_.backgroundImage,"gradient")},M.cssreflections=function(){return c("boxReflect")},M.csstransforms=function(){return!!c("transform")},M.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in m.style&&A("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},M.csstransitions=function(){return c("transition")},M.fontface=function(){var t;return A('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=e.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(s)&&0===s.indexOf(i.split(" ")[0])}),t},M.generatedcontent=function(){var t;return A(["#",v,"{font:0/0 a}#",v,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},M.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},M.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},M.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},M.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},M.webworkers=function(){return!!t.Worker},M.applicationcache=function(){return!!t.applicationCache},M.svg=function(){return!!e.createElementNS&&!!e.createElementNS(P.svg,"svg").createSVGRect},M.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==P.svg},M.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(x.call(e.createElementNS(P.svg,"animate")))},M.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(x.call(e.createElementNS(P.svg,"clipPath")))};for(var L in M)p(M,L)&&(h=L.toLowerCase(),d[h]=M[L](),T.push((d[h]?"":"no-")+h));return d.input||l(),d.addTest=function(t,e){if("object"==typeof t)for(var i in t)p(t,i)&&d.addTest(i,t[i]);else{if(t=t.toLowerCase(),d[t]!==n)return d;e="function"==typeof e?e():e,"undefined"!=typeof g&&g&&(m.className+=" "+(e?"":"no-")+t),d[t]=e}return d},i(""),y=b=null,function(t,e){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function o(t,n,i){if(n||(n=e),l)return n.createElement(t);i||(i=r(n));var o;return o=i.cache[t]?i.cache[t].cloneNode():d.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t),!o.canHaveChildren||f.test(t)||o.tagUrn?o:i.frag.appendChild(o)}function s(t,n){if(t||(t=e),l)return t.createDocumentFragment();n=n||r(t);for(var o=n.frag.cloneNode(),s=0,a=i(),u=a.length;u>s;s++)o.createElement(a[s]);return o}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function u(t){t||(t=e);var i=r(t);return!y.shivCSS||c||i.hasCSS||(i.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),l||a(t,i),t}var c,l,h="3.7.0",p=t.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,l=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){c=!0,l=!0}}();var y={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:h,shivCSS:p.shivCSS!==!1,supportsUnknownElements:l,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:u,createElement:o,createDocumentFragment:s};t.html5=y,u(e)}(this,e),d._version=f,d._prefixes=S,d._domPrefixes=C,d._cssomPrefixes=E,d.mq=V,d.hasEvent=N,d.testProp=function(t){return a([t])},d.testAllProps=c,d.testStyles=A,d.prefixed=function(t,e,n){return e?c(t,e,n):c(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+T.join(" "):""),d}(this,this.document),t.Modernizr=Modernizr}.apply(t,arguments)})}(this),define("util/modernizr",["../app","modernizr"],function(t,e){return e.addTest("mediaqueries",e.mq("only all")),e}),function(t,e){"function"==typeof define&&define.amd?define("handlebars",[],e):"object"==typeof exports?module.exports=e():t.Handlebars=e()}(this,function(){var t=function(){function t(t){return u[t]}function e(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function n(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function i(e){return e&&e.toHTML?e.toHTML():null==e?"":e?(e=""+e,l.test(e)?e.replace(c,t):e):e+""}function r(t){return t||0===t?f(t)&&0===t.length?!0:!1:!0}function o(t,e){return t.path=e,t}function s(t,e){return(t?t+".":"")+e}var a={},u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,l=/[&<>"'`]/;a.extend=e;var h=Object.prototype.toString;a.toString=h;var p=function(t){return"function"==typeof t};p(/x/)&&(p=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var p;a.isFunction=p;var f=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===h.call(t):!1};return a.isArray=f,a.indexOf=n,a.escapeExpression=i,a.isEmpty=r,a.blockParams=o,a.appendContextPath=s,a}(),e=function(){function t(t,e){var i,r,o=e&&e.loc;o&&(i=o.start.line,r=o.start.column,t+=" - "+i+":"+r);for(var s=Error.prototype.constructor.call(this,t),a=0;a<n.length;a++)this[n[a]]=s[n[a]];o&&(this.lineNumber=i,this.column=r)}var e,n=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=new Error,e=t}(),n=function(t,e){function n(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,r=n.fn;if(e===!0)return r(this);if(e===!1||null==e)return i(this);if(l(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var s=m(n.data);s.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(e,n)}),t.registerHelper("each",function(t,e){function n(e,n,s){i&&(i.key=e,i.index=n,i.first=0===n,i.last=!!s,r&&(i.contextPath=r+e)),p+=a(t[e],{data:i,blockParams:o.blockParams([t[e],e],[r+e,null])})}if(!e)throw new s("Must pass iterator to #each");var i,r,a=e.fn,u=e.inverse,c=0,p="";if(e.data&&e.ids&&(r=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),h(t)&&(t=t.call(this)),e.data&&(i=m(e.data)),t&&"object"==typeof t)if(l(t))for(var f=t.length;f>c;c++)n(c,c,c===t.length-1);else{var d;for(var g in t)t.hasOwnProperty(g)&&(d&&n(d,c-1),d=g,c++);d&&n(d,c-1,!0)}return 0===c&&(p=u(this)),p}),t.registerHelper("if",function(t,e){return h(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){h(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var i=m(e.data);i.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:i}}return n(t,e)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}var r={},o=t,s=e,a="3.0.0";r.VERSION=a;var u=6;r.COMPILER_REVISION=u;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};r.REVISION_CHANGES=c;var l=o.isArray,h=o.isFunction,p=o.toString,f="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:d,log:g,registerHelper:function(t,e){if(p.call(t)===f){if(e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(p.call(t)===f)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new s("Attempting to register a partial as undefined");this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(t,e){if("undefined"!=typeof console&&d.level<=t){var n=d.methodMap[t];(console[n]||console.log).call(console,e)}}};r.logger=d;var g=d.log;r.log=g;var m=function(t){var e=o.extend({},t);return e._parent=t,e};return r.createFrame=m,r}(t,e),i=function(){function t(t){this.string=t}var e;return t.prototype.toString=t.prototype.toHTML=function(){return""+this.string},e=t}(),r=function(t,e,n){function i(t){var e=t&&t[0]||1,n=f;if(e!==n){if(n>e){var i=d[n],r=d[e];throw new p("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new p("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(t,e){if(!e)throw new p("No environment passed to template");if(!t||!t.main)throw new p("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var n=function(n,i,r){r.hash&&(i=h.extend({},i,r.hash)),n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var s=o.split("\n"),a=0,u=s.length;u>a&&(s[a]||a+1!==u);a++)s[a]=r.indent+s[a];o=s.join("\n")}return o}throw new p("The partial "+r.name+" could not be compiled when running in runtime-only mode")},i={strict:function(t,e){if(!(e in t))throw new p('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;n>i;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:h.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n,i,r){var s=this.programs[t],a=this.fn(t);return e||r||i||n?s=o(this,t,a,e,n,i,r):s||(s=this.programs[t]=o(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=h.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},r=function(e,n){n=n||{};var o=n.data;r._setup(n),!n.partial&&t.useData&&(o=c(e,o));var s,a=t.useBlockParams?[]:void 0;return t.useDepths&&(s=n.depths?[e].concat(n.depths):[e]),t.main.call(i,e,i.helpers,i.partials,o,a,s)};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)))
},r._child=function(e,n,r,s){if(t.useBlockParams&&!r)throw new p("must pass block params");if(t.useDepths&&!s)throw new p("must pass parent depths");return o(i,e,t[e],n,0,r,s)},r}function o(t,e,n,i,r,o,s){var a=function(e,r){return r=r||{},n.call(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s&&[e].concat(s))};return a.program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function s(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t=n.partials[n.name],t}function a(t,e,n){if(n.partial=!0,void 0===t)throw new p("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function u(){return""}function c(t,e){return e&&"root"in e||(e=e?g(e):{},e.root=t),e}var l={},h=t,p=e,f=n.COMPILER_REVISION,d=n.REVISION_CHANGES,g=n.createFrame;return l.checkRevision=i,l.template=r,l.program=o,l.resolvePartial=s,l.invokePartial=a,l.noop=u,l}(t,e,n),o=function(t,e,n,i,r){var o,s=t,a=e,u=n,c=i,l=r,h=function(){var t=new s.HandlebarsEnvironment;return c.extend(t,s),t.SafeString=a,t.Exception=u,t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=l,t.template=function(e){return l.template(e,t)},t},p=h();p.create=h;var f="undefined"!=typeof global?global:window,d=f.Handlebars;return p.noConflict=function(){f.Handlebars===p&&(f.Handlebars=d)},p["default"]=p,o=p}(n,i,e,t,r),s=function(){var t,e={Program:function(t,e,n,i){this.loc=i,this.type="Program",this.body=t,this.blockParams=e,this.strip=n},MustacheStatement:function(t,e,n,i,r,o){this.loc=o,this.type="MustacheStatement",this.path=t,this.params=e||[],this.hash=n,this.escaped=i,this.strip=r},BlockStatement:function(t,e,n,i,r,o,s,a,u){this.loc=u,this.type="BlockStatement",this.path=t,this.params=e||[],this.hash=n,this.program=i,this.inverse=r,this.openStrip=o,this.inverseStrip=s,this.closeStrip=a},PartialStatement:function(t,e,n,i,r){this.loc=r,this.type="PartialStatement",this.name=t,this.params=e||[],this.hash=n,this.indent="",this.strip=i},ContentStatement:function(t,e){this.loc=e,this.type="ContentStatement",this.original=this.value=t},CommentStatement:function(t,e,n){this.loc=n,this.type="CommentStatement",this.value=t,this.strip=e},SubExpression:function(t,e,n,i){this.loc=i,this.type="SubExpression",this.path=t,this.params=e||[],this.hash=n},PathExpression:function(t,e,n,i,r){this.loc=r,this.type="PathExpression",this.data=t,this.original=i,this.parts=n,this.depth=e},StringLiteral:function(t,e){this.loc=e,this.type="StringLiteral",this.original=this.value=t},NumberLiteral:function(t,e){this.loc=e,this.type="NumberLiteral",this.original=this.value=Number(t)},BooleanLiteral:function(t,e){this.loc=e,this.type="BooleanLiteral",this.original=this.value="true"===t},Hash:function(t,e){this.loc=e,this.type="Hash",this.pairs=t},HashPair:function(t,e,n){this.loc=n,this.type="HashPair",this.key=t,this.value=e},helpers:{helperExpression:function(t){return!("SubExpression"!==t.type&&!t.params.length&&!t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!e.helpers.scopedId(t)&&!t.depth}}};return t=e}(),a=function(){var t,e=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,DATA:77,pathSegments:78,SEP:79,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"DATA",79:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[78,3],[78,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function(t,e,n,i,r,o){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=new i.Program(o[s],null,{},i.locInfo(this._$));break;case 3:this.$=o[s];break;case 4:this.$=o[s];break;case 5:this.$=o[s];break;case 6:this.$=o[s];break;case 7:this.$=o[s];break;case 8:this.$=new i.CommentStatement(i.stripComment(o[s]),i.stripFlags(o[s],o[s]),i.locInfo(this._$));break;case 9:this.$=new i.ContentStatement(o[s],i.locInfo(this._$));break;case 10:this.$=i.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 11:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 12:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 13:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 14:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 15:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 16:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 17:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 18:var a=i.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),u=new i.Program([a],null,{},i.locInfo(this._$));u.chained=!0,this.$={strip:o[s-2].strip,program:u,chain:!0};break;case 19:this.$=o[s];break;case 20:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 21:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 22:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 23:this.$=new i.PartialStatement(o[s-3],o[s-2],o[s-1],i.stripFlags(o[s-4],o[s]),i.locInfo(this._$));break;case 24:this.$=o[s];break;case 25:this.$=o[s];break;case 26:this.$=new i.SubExpression(o[s-3],o[s-2],o[s-1],i.locInfo(this._$));break;case 27:this.$=new i.Hash(o[s],i.locInfo(this._$));break;case 28:this.$=new i.HashPair(o[s-2],o[s],i.locInfo(this._$));break;case 29:this.$=o[s-1];break;case 30:this.$=o[s];break;case 31:this.$=o[s];break;case 32:this.$=new i.StringLiteral(o[s],i.locInfo(this._$));break;case 33:this.$=new i.NumberLiteral(o[s],i.locInfo(this._$));break;case 34:this.$=new i.BooleanLiteral(o[s],i.locInfo(this._$));break;case 35:this.$=o[s];break;case 36:this.$=o[s];break;case 37:this.$=i.preparePath(!0,o[s],this._$);break;case 38:this.$=i.preparePath(!1,o[s],this._$);break;case 39:o[s-2].push({part:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 40:this.$=[{part:o[s]}];break;case 41:this.$=[];break;case 42:o[s-1].push(o[s]);break;case 43:this.$=[];break;case 44:o[s-1].push(o[s]);break;case 51:this.$=[];break;case 52:o[s-1].push(o[s]);break;case 57:this.$=[];break;case 58:o[s-1].push(o[s]);break;case 63:this.$=[];break;case 64:o[s-1].push(o[s]);break;case 71:this.$=[];break;case 72:o[s-1].push(o[s]);break;case 75:this.$=[];break;case 76:o[s-1].push(o[s]);break;case 79:this.$=[];break;case 80:o[s-1].push(o[s]);break;case 83:this.$=[];break;case 84:o[s-1].push(o[s]);break;case 87:this.$=[o[s]];break;case 88:o[s-1].push(o[s]);break;case 89:this.$=[o[s]];break;case 90:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,41],6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],46:[2,41],49:[2,41],53:[2,41]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,42],13:[2,42],14:[2,42],17:[2,42],27:[2,42],32:[2,42],37:[2,42],42:[2,42],45:[2,42],46:[2,42],49:[2,42],53:[2,42]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:31,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:32,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{4:33,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{12:34,14:[1,18]},{18:36,54:35,58:37,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:39,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:40,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:41,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[2,71],47:42,59:[2,71],66:[2,71],74:[2,71],75:[2,71],76:[2,71],77:[2,71]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34]},{21:[2,38],31:[2,38],52:[2,38],59:[2,38],62:[2,38],66:[2,38],69:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],79:[1,43]},{66:[1,30],78:44},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{50:45,52:[2,75],59:[2,75],66:[2,75],74:[2,75],75:[2,75],76:[2,75],77:[2,75]},{23:46,36:48,37:[1,50],41:49,42:[1,51],43:47,45:[2,47]},{26:52,41:53,42:[1,51],45:[2,49]},{16:[1,54]},{31:[2,79],55:55,59:[2,79],66:[2,79],74:[2,79],75:[2,79],76:[2,79],77:[2,79]},{31:[2,35],59:[2,35],66:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35]},{31:[2,36],59:[2,36],66:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36]},{18:56,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{28:57,31:[2,51],59:[2,51],66:[2,51],69:[2,51],74:[2,51],75:[2,51],76:[2,51],77:[2,51]},{31:[2,57],33:58,59:[2,57],66:[2,57],69:[2,57],74:[2,57],75:[2,57],76:[2,57],77:[2,57]},{19:59,21:[2,43],59:[2,43],66:[2,43],74:[2,43],75:[2,43],76:[2,43],77:[2,43]},{18:63,31:[2,73],48:60,57:61,58:64,59:[1,38],63:62,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{66:[1,68]},{21:[2,37],31:[2,37],52:[2,37],59:[2,37],62:[2,37],66:[2,37],69:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],79:[1,43]},{18:63,51:69,52:[2,77],57:70,58:64,59:[1,38],63:71,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{24:72,45:[1,73]},{45:[2,48]},{4:74,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],37:[2,41],42:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{45:[2,19]},{18:75,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{4:76,6:3,13:[2,41],14:[2,41],17:[2,41],27:[2,41],32:[2,41],45:[2,41],46:[2,41],49:[2,41],53:[2,41]},{24:77,45:[1,73]},{45:[2,50]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:63,31:[2,81],56:78,57:79,58:64,59:[1,38],63:80,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{59:[2,83],60:81,62:[2,83],66:[2,83],74:[2,83],75:[2,83],76:[2,83],77:[2,83]},{18:63,29:82,31:[2,53],57:83,58:64,59:[1,38],63:84,64:65,65:66,66:[1,67],69:[2,53],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,31:[2,59],34:85,57:86,58:64,59:[1,38],63:87,64:65,65:66,66:[1,67],69:[2,59],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{18:63,20:88,21:[2,45],57:89,58:64,59:[1,38],63:90,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{31:[1,91]},{31:[2,72],59:[2,72],66:[2,72],74:[2,72],75:[2,72],76:[2,72],77:[2,72]},{31:[2,74]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:92,66:[1,93],69:[2,27]},{21:[2,87],31:[2,87],52:[2,87],62:[2,87],66:[2,87],69:[2,87]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],67:[1,94],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],79:[2,40]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],79:[2,39]},{52:[1,95]},{52:[2,76],59:[2,76],66:[2,76],74:[2,76],75:[2,76],76:[2,76],77:[2,76]},{52:[2,78]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:96,66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{36:48,37:[1,50],41:49,42:[1,51],43:98,44:97,45:[2,69]},{31:[2,63],38:99,59:[2,63],66:[2,63],69:[2,63],74:[2,63],75:[2,63],76:[2,63],77:[2,63]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,100]},{31:[2,80],59:[2,80],66:[2,80],74:[2,80],75:[2,80],76:[2,80],77:[2,80]},{31:[2,82]},{18:63,57:102,58:64,59:[1,38],61:101,62:[2,85],63:103,64:65,65:66,66:[1,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{30:104,31:[2,55],68:105,69:[1,106]},{31:[2,52],59:[2,52],66:[2,52],69:[2,52],74:[2,52],75:[2,52],76:[2,52],77:[2,52]},{31:[2,54],69:[2,54]},{31:[2,61],35:107,68:108,69:[1,106]},{31:[2,58],59:[2,58],66:[2,58],69:[2,58],74:[2,58],75:[2,58],76:[2,58],77:[2,58]},{31:[2,60],69:[2,60]},{21:[1,109]},{21:[2,44],59:[2,44],66:[2,44],74:[2,44],75:[2,44],76:[2,44],77:[2,44]},{21:[2,46]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,88],31:[2,88],52:[2,88],62:[2,88],66:[2,88],69:[2,88]},{67:[1,94]},{18:63,57:110,58:64,59:[1,38],66:[1,30],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,111]},{45:[2,18]},{45:[2,70]},{18:63,31:[2,65],39:112,57:113,58:64,59:[1,38],63:114,64:65,65:66,66:[1,67],69:[2,65],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,29],78:28},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,115]},{59:[2,84],62:[2,84],66:[2,84],74:[2,84],75:[2,84],76:[2,84],77:[2,84]},{62:[2,86]},{31:[1,116]},{31:[2,56]},{66:[1,118],70:117},{31:[1,119]},{31:[2,62]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,67],40:120,68:121,69:[1,106]},{31:[2,64],59:[2,64],66:[2,64],69:[2,64],74:[2,64],75:[2,64],76:[2,64],77:[2,64]},{31:[2,66],69:[2,66]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,123],71:[1,122]},{66:[2,89],71:[2,89]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,124]},{31:[2,68]},{31:[2,29]},{66:[2,90],71:[2,90]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],47:[2,48],49:[2,19],53:[2,50],62:[2,74],71:[2,78],76:[2,17],80:[2,82],90:[2,46],97:[2,18],98:[2,70],103:[2,86],105:[2,56],108:[2,62],109:[2,11],121:[2,68],122:[2,29]},parseError:function(t){throw new Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],o=[],s=this.table,a="",u=0,c=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,d,g,m,v,y,_,b,w,x={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===f||"undefined"==typeof f)&&(f=e()),m=s[g]&&s[g][f]),"undefined"==typeof m||!m.length||!m[0]){var S="";if(!l){w=[];for(y in s[g])this.terminals_[y]&&y>2&&w.push("'"+this.terminals_[y]+"'");S=this.lexer.showPosition?"Parse error on line "+(u+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(S,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:h,expected:w})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:i.push(f),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(m[1]),f=null,d?(f=d,d=null):(c=this.lexer.yyleng,a=this.lexer.yytext,u=this.lexer.yylineno,h=this.lexer.yylloc,l>0&&l--);break;case 2:if(_=this.productions_[m[1]][1],x.$=r[r.length-_],x._$={first_line:o[o.length-(_||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(_||1)].first_column,last_column:o[o.length-1].last_column},p&&(x._$.range=[o[o.length-(_||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(x,a,c,u,this.yy,m[1],r,o),"undefined"!=typeof v)return v;_&&(i=i.slice(0,-1*_*2),r=r.slice(0,-1*_),o=o.slice(0,-1*_)),i.push(this.productions_[m[1]][0]),r.push(x.$),o.push(x._$),b=s[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(n=this._input.match(this.rules[o[s]]),!n||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?(r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return"undefined"!=typeof t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e.yytext=e.yytext.substr(5,e.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(e.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 79;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return e.yytext=r(1,2).replace(/\\"/g,'"'),74;case 30:return e.yytext=r(1,2).replace(/\\'/g,"'"),74;case 31:return 77;case 32:return 76;case 33:return 76;case 34:return 75;case 35:return 69;case 36:return 71;case 37:return 66;case 38:return e.yytext=r(1,2),66;case 39:return"INVALID";case 40:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,40],inclusive:!0}},t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();return t=e}(),u=function(t,e){function n(){this.parents=[]}var i,r=t,o=e;return n.prototype={constructor:n,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&(!n.type||!o[n.type]))throw new r('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new r(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;n>e;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:e!==!1?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},BlockStatement:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash"),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")},PartialStatement:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:function(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PartialExpression:function(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")},PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},i=n}(e,s),c=function(t){function e(){}function n(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function i(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function r(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function o(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var s,a=t;return e.prototype=new a,e.prototype.Program=function(t){var e=!this.isRootSeen;this.isRootSeen=!0;for(var s=t.body,a=0,u=s.length;u>a;a++){var c=s[a],l=this.accept(c);if(l){var h=n(s,a,e),p=i(s,a,e),f=l.openStandalone&&h,d=l.closeStandalone&&p,g=l.inlineStandalone&&h&&p;l.close&&r(s,a,!0),l.open&&o(s,a,!0),g&&(r(s,a),o(s,a)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(s[a-1].original)[1])),f&&(r((c.program||c.inverse).body),o(s,a)),d&&(r(s,a),o((c.inverse||c.program).body))}}return t},e.prototype.BlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,s=t.program&&t.inverse,a=s,u=s;if(s&&s.chained)for(a=s.body[0].program;u.chained;)u=u.body[u.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:i(e.body),closeStandalone:n((a||e).body)};if(t.openStrip.close&&r(e.body,null,!0),s){var l=t.inverseStrip;l.open&&o(e.body,null,!0),l.close&&r(a.body,null,!0),t.closeStrip.open&&o(u.body,null,!0),n(e.body)&&i(a.body)&&(o(e.body),r(a.body))}else t.closeStrip.open&&o(e.body,null,!0);return c},e.prototype.MustacheStatement=function(t){return t.strip},e.prototype.PartialStatement=e.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},s=e}(u),l=function(t){function e(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function n(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function i(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function r(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",r=[],o=0,s="",a=0,u=e.length;u>a;a++){var l=e[a].part;if(i+=(e[a].separator||"")+l,".."===l||"."===l||"this"===l){if(r.length>0)throw new c("Invalid path: "+i,{loc:n});".."===l&&(o++,s+="../")}else r.push(l)}return new this.PathExpression(t,o,r,i,n)}function o(t,e,n,i,r,o){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return new this.MustacheStatement(t,e,n,a,r,this.locInfo(o))}function s(t,e,n,i){if(t.path.original!==n){var r={loc:t.path.loc};throw new c(t.path.original+" doesn't match "+n,r)}i=this.locInfo(i);var o=new this.Program([e],null,{},i);return new this.BlockStatement(t.path,t.params,t.hash,o,void 0,{},{},{},i)}function a(t,e,n,i,r,o){if(i&&i.path&&t.path.original!==i.path.original){var s={loc:t.path.loc};throw new c(t.path.original+" doesn't match "+i.path.original,s)}e.blockParams=t.blockParams;var a,u;return n&&(n.chain&&(n.program.body[0].closeStrip=i.strip),u=n.strip,a=n.program),r&&(r=a,a=e,e=r),new this.BlockStatement(t.path,t.params,t.hash,e,a,t.strip,u,i&&i.strip,this.locInfo(o))}var u={},c=t;return u.SourceLocation=e,u.stripFlags=n,u.stripComment=i,u.preparePath=r,u.prepareMustache=o,u.prepareRawBlock=s,u.prepareBlock=a,u}(e),h=function(t,e,n,i,r){function o(t,e){if("Program"===t.type)return t;a.yy=p,p.locInfo=function(t){return new p.SourceLocation(e&&e.srcName,t)};var n=new c;return n.accept(a.parse(t))}var s={},a=t,u=e,c=n,l=i,h=r.extend;s.parser=a;var p={};return h(p,l,u),s.parse=o,s}(a,s,c,l,t),p=function(t,e,n){function i(){}function r(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)}function o(t,e,n){function i(){var i=n.parse(t,e),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);
var r,o=function(t,e){return r||(r=i()),r.call(this,t,e)};return o._setup=function(t){return r||(r=i()),r._setup(t)},o._child=function(t,e,n,o){return r||(r=i()),r._child(t,e,n,o)},o}function s(t,e){if(t===e)return!0;if(l(t)&&l(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!s(t[n],e[n]))return!1;return!0}}function a(t){if(!t.path.parts){var e=t.path;t.path=new p.PathExpression(!1,0,[e.original+""],e.original+"",e.log)}}var u={},c=t,l=e.isArray,h=e.indexOf,p=n,f=[].slice;return u.Compiler=i,i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;e>n;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||!s(i.args,r.args))return!1}for(e=this.children.length,n=0;e>n;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)e.knownHelpers[i]=n[i];return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=0,i=e.length;i>n;n++)this.accept(e[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){a(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},PartialStatement:function(t){this.usePartial=!0;var e=t.params;if(e.length>1)throw new c("Unsupported number of partial arguments: "+e.length,t);e.length||e.push({type:"PathExpression",parts:[],depth:0});var n=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,void 0,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,n,r),this.opcode("append")},MustacheStatement:function(t){this.SubExpression(t),this.opcode(t.escaped&&!this.options.noEscape?"appendEscaped":"append")},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){a(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){this.accept(t.path),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new c("You specified knownHelpersOnly, but used the unknown helper "+o,t);r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,p.helpers.simpleId(r))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=p.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts)):this.opcode("lookupOnContext",t.parts,t.falsy,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},Hash:function(t){var e,n,i=t.pairs;for(this.opcode("pushHash"),e=0,n=i.length;n>e;e++)this.pushParam(i[e].value);for(;e--;)this.opcode("assignToHash",i[e].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=p.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&p.helpers.helperExpression(t),r=!n&&(i||e),o=this.options;if(r&&!i){var s=t.path.parts[0];o.knownHelpers[s]?i=!0:o.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;n>e;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n;if(!t.parts||p.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else e=t.original||e,e.replace&&(e=e.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;n>e;e++){var i=this.options.blockParams[e],r=i&&h(i,t);if(i&&r>=0)return[e,r]}}},u.precompile=r,u.compile=o,u}(e,t,s),f=function(t){function e(t,e,n){if(r(t)){for(var i=[],o=0,s=t.length;s>o;o++)i.push(e.wrap(t[o],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function n(t){this.srcFile=t,this.source=[]}var i,r=t.isArray;try{var o=require("source-map"),s=o.SourceNode}catch(a){s=function(t,e,n,i){this.src="",i&&this.add(i)},s.prototype={add:function(t){r(t)&&(t=t.join("")),this.src+=t},prepend:function(t){r(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}}return n.prototype={prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;n>e;e++)t(this.source[e])},empty:function(t){return t=t||this.currentLocation||{start:{}},new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t,n){return t instanceof s?t:(n=n||this.currentLocation||{start:{}},t=e(t,this,n),new s(n.start.line,n.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=e(t[i],this);"undefined"!==r&&n.push([this.quotedString(i),":",r])}var o=this.generateList(n);return o.prepend("{"),o.add("}"),o},generateList:function(t,n){for(var i=this.empty(n),r=0,o=t.length;o>r;r++)r&&i.add(","),i.add(e(t[r],this,n));return i},generateArray:function(t,e){var n=this.generateList(t,e);return n.prepend("["),n.add("]"),n}},i=n}(t),d=function(t,e,n,i){function r(t){this.value=t}function o(){}function s(t,e,n,i){var r=e.popStack(),o=0,s=n.length;for(t&&s--;s>o;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("this.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}var a,u=t.COMPILER_REVISION,c=t.REVISION_CHANGES,l=e,h=n.isArray,p=i;o.prototype={nameLookup:function(t,e){return o.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"['",e,"']"]},depthedLookup:function(t){return[this.aliasable("this.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=u,e=c[t];return[t,e]},appendToBuffer:function(t,e,n){return h(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r,o,s,a,u=t.opcodes;for(s=0,a=u.length;a>s;s++)r=u[s],this.source.currentLocation=r.loc,o=o||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");var c=this.createFunctionContext(i);if(this.isChild)return c;var h={compiler:this.compilerInfo(),main:c},p=this.context.programs;for(s=0,a=p.length;a>s;s++)p[s]&&(h[s]=p[s]);return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName}),h.map=h.map&&h.map.toString()):h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new p(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var s=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e,n,i,r,o=this.environment.isSimple,s=!this.forceBuffer;return this.source.each(function(t){t.appendToBuffer?(i?t.prepend("  + "):i=t,r=t):(i&&(n?i.prepend("buffer += "):e=!0,r.add(";"),i=r=void 0),n=!0,o||(s=!1))}),s?i?(i.prepend("return "),r.add(";")):n||this.source.push('return "";'):(t+=", buffer = "+(e?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),r.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(e?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n){var i=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e){this.pushStackLiteral(t?"this.data(data, "+t+")":"data"),this.resolvePath("data",e,0,!0)},resolvePath:function(t,e,n,i){if(this.options.strict||this.options.assumeObjects)return void this.push(s(this.options.strict,this,e,t));for(var r=e.length;r>n;n++)this.replaceStack(function(r){var o=this.nameLookup(r,e[n],t);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){this.pushStackLiteral(null!=t?this.programExpression(t):null)},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",s=["("].concat(o,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=this.lastHelper=this.nameLookup("helpers",t,"helper"),o=["(","(helper = ",r," || ",n,")"];this.options.strict||(o[0]="(helper = ",o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",o,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i,!1);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",i.unshift(t?e:this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("this.invokePartial","",i))},assignToHash:function(t){var e,n,i,r=this.popStack();this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),e=this.popStack());var o=this.hash;e&&(o.contexts[t]=e),n&&(o.types[t]=n),i&&(o.ids[t]=i),o.values[t]=r},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):this.pushStackLiteral("SubExpression"===t?"true":"null")},compiler:o,compileChildren:function(t,e){for(var n,i,r=t.children,o=0,s=r.length;s>o;o++){n=r[o],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,e,this.context,!this.precompile),this.context.environments[a]=n,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams):(n.index=a,n.name="program"+a,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;n>e;e++){var i=this.context.environments[e];if(i&&i.equals(t))return e}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"this.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof r||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new r(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e,n,i,o=["("];if(!this.isInline())throw new l("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof r)e=[s.value],o=["(",e],i=!0;else{n=!0;var a=this.incrStack();o=["((",this.push(a)," = ",s,")"],e=this.topStack()}var u=t.call(this,e);i||this.popStack(),n&&this.stackSlot--,this.push(o.concat(u,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;n>e;e++){var i=t[e];if(i instanceof r)this.compileStack.push(i);else{var o=this.incrStack();this.pushSource([o," = ",i,";"]),this.compileStack.push(o)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof r)return n.value;if(!e){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof r?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[],r=this.setupHelperArgs(e,t,i,n),o=this.nameLookup("helpers",e,"helper");return{params:i,paramsInit:r,name:o,callParams:[this.contextName(0)].concat(i)}},setupParams:function(t,e,n){var i,r={},o=[],s=[],a=[];r.name=this.quotedString(t),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var u=this.popStack(),c=this.popStack();(c||u)&&(r.fn=c||"this.noop",r.inverse=u||"this.noop");for(var l=e;l--;)i=this.popStack(),n[l]=i,this.trackIds&&(a[l]=this.popStack()),this.stringParams&&(s[l]=this.popStack(),o[l]=this.popStack());return this.trackIds&&(r.ids=this.source.generateArray(a)),this.stringParams&&(r.types=this.source.generateArray(s),r.contexts=this.source.generateArray(o)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n,!0);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):(n.push(r),"")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),d=o.RESERVED_WORDS={},g=0,m=f.length;m>g;g++)d[f[g]]=!0;return o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},a=o}(n,e,t,f),g=function(t,e,n,i,r){var o,s=t,a=e,u=n.parser,c=n.parse,l=i.Compiler,h=i.compile,p=i.precompile,f=r,d=s.create,g=function(){var t=d();return t.compile=function(e,n){return h(e,n,t)},t.precompile=function(e,n){return p(e,n,t)},t.AST=a,t.Compiler=l,t.JavaScriptCompiler=f,t.Parser=u,t.parse=c,t};s=g(),s.create=g;var m="undefined"!=typeof global?global:window,v=m.Handlebars;return s.noConflict=function(){m.Handlebars===s&&(m.Handlebars=v)},s["default"]=s,o=s}(o,s,h,p,d);return g}),define("text",["module"],function(t){var e,n,i,r,o,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,l=c&&location.protocol&&location.protocol.replace(/\:/,""),h=c&&location.hostname,p=c&&(location.port||void 0),f={},d=t.config&&t.config()||{};return e={version:"2.0.14",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(u);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){n=s[e];try{t=new ActiveXObject(n)}catch(i){}if(t){s=[n];break}}return t},parseName:function(t){var e,n,i,r=!1,o=t.lastIndexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!s||o>1)?(e=t.substring(0,o),n=t.substring(o+1)):e=t,i=n||e,o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:e=i),{moduleName:e,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,n,i,r){var o,s,a,u=e.xdRegExp.exec(t);return u?(o=u[2],s=u[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==n||s&&s.toLowerCase()!==i.toLowerCase()||(a||s)&&a!==r)):!0},finishLoad:function(t,n,i,r){i=n?e.strip(i):i,d.isBuild&&(f[t]=i),r(i)},load:function(t,n,i,r){if(r&&r.isBuild&&!r.inlineText)return void i();d.isBuild=r&&r.isBuild;var o=e.parseName(t),s=o.moduleName+(o.ext?"."+o.ext:""),a=n.toUrl(s),u=d.useXhr||e.useXhr;return 0===a.indexOf("empty:")?void i():void(!c||u(a,l,h,p)?e.get(a,function(n){e.finishLoad(t,o.strip,n,i)},function(t){i.error&&i.error(t)}):n([s],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,i)}))},write:function(t,n,i){if(f.hasOwnProperty(n)){var r=e.jsEscape(f[n]);i.asModule(t+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(t,n,i,r,o){var s=e.parseName(n),a=s.ext?"."+s.ext:"",u=s.moduleName+a,c=i.toUrl(s.moduleName+a)+".js";e.load(u,i,function(){var n=function(t){return r(c,t)};n.asModule=function(t,e){return r.asModule(t,c,e)},e.write(t,u,n,o)},o)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),e.get=function(t,e,i){try{var r=n.readFileSync(t,"utf8");"﻿"===r[0]&&(r=r.substring(1)),e(r)}catch(o){i&&i(o)}}):"xhr"===d.env||!d.env&&e.createXhr()?e.get=function(t,n,i,r){var o,s=e.createXhr();if(s.open("GET",t,!0),r)for(o in r)r.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),r[o]);d.onXhr&&d.onXhr(s,t),s.onreadystatechange=function(){var e,r;4===s.readyState&&(e=s.status||0,e>399&&600>e?(r=new Error(t+" HTTP status: "+e),r.xhr=s,i&&i(r)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,t))},s.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var n,i,r="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),u="";try{for(n=new java.lang.StringBuffer,i=a.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=a.readLine());)n.append(s),n.append(i);u=String(n.toString())}finally{a.close()}e(u)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in i,e.get=function(t,e){var n,s,a,u={};o&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(a,1,0,!1),s=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),s.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),u),s.close(),n.close(),e(u.value)}catch(c){throw new Error((a&&a.path||"")+": "+c)}}),e}),define("text!templates/appMain.html",[],function(){return'<header class="app-header" data-app-view-region="header">\n    <div class="app-header-brand">Shut The Box</div>\n    <button type="button" class="btn app-header-btn" data-app-view-action="newGame">New Game</button>\n</header>\n<div data-app-view-region="game">\n</div>'}),define("text!templates/game.html",[],function(){return'<section class="app-players" data-game-view-region="player">\n    <!-- players -->\n</section>\n<section class="app-box" data-game-view-region="box">\n    <!-- box -->\n</section>\n<section class="app-dice" data-game-view-region="dice">\n    <!-- dice -->\n</section>\n<section class="app-game-controls" data-game-view-region="game">\n    <div class="btn-actions">\n        <button class="btn btb-game" data-game-view-action="gameEnd">\n            End Game\n        </button>\n    </div>\n</section>'}),define("text!templates/boxSection.html",[],function(){return'<div class="box-number-list">\n    <!-- boxNumber -->\n</div>\n<div class="btn-actions">\n    <button class="btn btn-box" data-view-action="endTurn">End Turn</button>\n</div>'}),define("text!templates/diceSection.html",[],function(){return'<div class="dice-result" data-view-subregion="results">\n    <div class="dice-summary">\n        <!-- dice -->\n    </div>\n    <dl class="dice-sum">\n        <dt>Total =</dt>\n        <dd class="dice-total" data-view-subregion="sum">0</dd>\n    </dl>\n</div>\n<div class="dice-controls" data-view-subregion="controls">\n    <span class="dice-action-label">throw:</span>\n    <span class="dice-button" title="Throw Single Die" data-view-action="throwSingle">\n        <span class="dice-indicator"><i class="icon icon-die" data-die-amt="1"></i></span>\n    </span>\n    <span class="dice-separator">or</span>\n    <span class="dice-button" title="Throw Both Dice" data-view-action="throwBoth">\n        <span class="dice-indicator"><i class="icon icon-die" data-die-amt="6"></i></span>\n        <span class="dice-indicator"><i class="icon icon-die" data-die-amt="4"></i></span>\n    </span>\n</div>'}),define("text!templates/playerSection.html",[],function(){return'<h1 class="player-title">Players</h1>\n<div class="player-scoreboard">\n    <!-- player -->\n</div>'}),define("text!templates/boxItem.html",[],function(){return'<div class="box-number-indicator">\n    <div class="number-tile">\n        <div class="number-tile-top">{{name}}</div>\n        <div class="number-tile-front">{{name}}</div>\n    </div>\n</div>'}),define("text!templates/player.html",[],function(){return'<h2>{{name}}</h2>\n<p>Score: <span data-view-region="score">{{score}}</span></p>'}),define("text!templates/die.html",[],function(){return'<i class="icon icon-die" data-die-amt="{{value}}"></i>'}),define("modules/templateManager",["app","handlebars","text!templates/appMain.html","text!templates/game.html","text!templates/boxSection.html","text!templates/diceSection.html","text!templates/playerSection.html","text!templates/boxItem.html","text!templates/player.html","text!templates/die.html"],function(t,e,n,i,r,o,s,a,u,c){var l=t.module("templateManager",{startWithParent:!1,define:function(t,l,h,p,f,d){var g={appMain:{raw:n},game:{raw:i},boxSection:{raw:r},boxItem:{raw:a},diceSection:{raw:o},die:{raw:c},playerSection:{raw:s},player:{raw:u}};t.compile=function(t){return e.compile(t)},t.define=function(t,e){t&&e&&!g[t]&&(g[t]={raw:e})},t.get=function(t,e){if(t&&g[t]){var n=g[t];return n.template||(n.template=this.compile(n.raw)),d.isFunction(e)&&e(n.template),n.template}}}});return l}),define("models/player",["app","backbone"],function(t,e){var n=e.Model.extend({defaults:function(){return{score:0,active:!1,done:!1}}});return n}),define("collections/players",["app","backbone","models/player"],function(t,e,n){var i=e.Collection.extend({model:n,initialize:function(){this.listenTo(t.vent,"game:player:done",this.onPlayerDone),this.listenTo(t.vent,"game:force:end",this.onForceEnd)},onPlayerDone:function(e){var n=this.getActivePlayer();if(n.set({score:e.score,active:!1,done:!0}),e.brokeBox)t.vent.trigger("game:over",{winners:[n],score:n.get("score"),brokeBox:!0});else{var i=this.getNextPlayer();if(i)i.set("active",!0),t.vent.trigger("game:player:change",{previousPlayer:n,player:i});else{var r=this.getLeadersByScore();t.vent.trigger("game:over",{winners:r.leaders,score:r.score,brokeBox:!1})}}},onForceEnd:function(){var e=this.getLeadersByScore();t.vent.trigger("game:over",{winners:e.leaders,score:e.score,brokeBox:!1})},getActivePlayer:function(){return this.findWhere({active:!0})},getNextPlayer:function(){return this.findWhere({active:!1,done:!1})},getLeadersByScore:function(){var t=_.min(_.map(this.models,function(t){return t.get("score")})),e=_.reject(this.models,function(e){return e.get("score")!==t});return{leaders:e,score:t}}});return i}),define("views/playerView",["app","marionette","models/player"],function(t,e,n){var i=e.ItemView.extend({model:n,template:t.templateManager.get("player"),className:"player-profile",tagName:"li",modelEvents:{change:"onChange"},initialize:function(){},onChange:function(){this.updatePlayerView()},onRender:function(){this.updatePlayerView()},updatePlayerView:function(){this.$el.find('[data-view-region="score"]').html(this.model.get("score")),this.$el.toggleClass("is-active",this.model.get("active")),this.$el.toggleClass("is-done",this.model.get("done"))}});return i}),define("views/playerListView",["app","marionette","views/playerView"],function(t,e,n){var i=e.CollectionView.extend({childView:n,className:"player-list",tagName:"ul"});return i}),define("views/playerSectionView",["app","marionette","collections/players","views/playerListView"],function(t,e,n,i){var r=e.LayoutView.extend({template:t.templateManager.get("playerSection"),regions:{scoreboardRegion:".player-scoreboard"},initialize:function(){for(var t=[],e=1,r=2;r>=e;e++)t.push({name:"Player "+e,active:1===e});this.playersCollection=new n(t.slice()),this.playerListView=new i({collection:this.playersCollection})},onBeforeShow:function(){this.getRegion("scoreboardRegion").show(this.playerListView)},onBeforeDestroy:function(){this.playerListView.destroy(),this.playerListView=null,this.playersCollection.unbind(),this.playersCollection.stopListening(),this.playersCollection.reset()}});return r}),define("models/boxItem",["app","backbone"],function(t,e){var n=e.Model.extend({defaults:function(){return{selected:!1,mode:"default"}}});return n}),define("collections/boxItems",["underscore","app","backbone","models/boxItem"],function(t,e,n,i){var r={getValues:function(e){var n=t.map(e,function(t){return t.get("value")
});return n},addAll:function(e){return t.reduce(e,function(t,e){return t+e})||0},getNumberData:function(t){var e=this.getValues(t),n=this.addAll(e);return{numbers:e,total:n}},filterNumbersThatSum:function(e,n){var i=[],r=this,o=function(e,s){if(s||(s=[]),s.length){var a=r.addAll(s);if(a===n)i=t.union(i,s);else if(a>n)return}for(var u=e.length,c=0;u>c;c++){var l=e[c],h=e.slice(c+1),p=s.slice();p.push(l),o(h,p)}};return o(e),i}},o=n.Collection.extend({model:i,initialize:function(){this.scoreToMatch=0,this.diceRolled=!1,this.listenTo(e.vent,"game:dice:rolled",this.onDiceRolled),this.listenTo(this,"change:mode",this.onNumberModeChanged),this.listenTo(e.vent,"game:turn:end",this.onTurnEnd)},onDiceRolled:function(t){this.scoreToMatch=t.total,this.updateNumberState(),this.diceRolled=!0;var n=this.getSelectedNumbers(),i=(n.total,this.filterChoosableNumbers(this.scoreToMatch));if(!i.length){var r=this.getRemainingNumbers();e.vent.trigger("game:player:done",{score:r.total,brokeBox:!r.numbers.length})}},onNumberModeChanged:function(){if(this.diceRolled){var t=this.getPendingNumbers(),n=t.total,i=this.scoreToMatch-n,r=this.filterChoosableNumbers(i);this.updateNumberState(r);var o=this.getRemainingNumbers(),s={validNumbers:r,remainingNumbers:o.numbers,remainingTotal:o.total,scoreToMatch:this.scoreToMatch,matchDiff:i,isMatched:0===i};e.vent.trigger("game:turn:state:changed",s),(!o.numbers.length||!s.isMatched&&o.numbers.length&&!r.length)&&e.vent.trigger("game:player:done",{score:o.total,brokeBox:!o.numbers.length})}},onTurnEnd:function(){this.diceRolled=!1,this.commitSelections()},commitSelections:function(){t.each(this.models,function(t){var e=t.get("mode");"selected"!==e&&("pending"===e?t.set({mode:"selected"}):t.set("mode","default"))})},updateNumberState:function(e){e||(e=this.filterChoosableNumbers()),t.each(this.models,function(n){var i=n.get("mode");if("selected"!==i&&"pending"!==i){var r=n.get("value");t.contains(e,r)?n.set("mode","selectable"):n.set("mode","default")}})},getSelectedNumbers:function(){var t=this.where({mode:"selected"});return r.getNumberData(t)},getPendingNumbers:function(){var t=this.where({mode:"pending"});return r.getNumberData(t)},getUnselectedNumbers:function(){var t=this.reject({mode:"selected"});return r.getNumberData(t)},getRemainingNumbers:function(){var t=this.filter(function(t){var e=t.get("mode");return"selectable"===e||"default"===e});return r.getNumberData(t)},filterChoosableNumbers:function(t){void 0===t&&(t=this.scoreToMatch);var e=this.getRemainingNumbers().numbers;return r.filterNumbersThatSum(e,t)}});return o}),define("views/boxItemView",["app","marionette","models/boxItem"],function(t,e,n){var i=e.ItemView.extend({model:n,template:t.templateManager.get("boxItem"),className:"box-number-item",events:{click:"onToggleNumber"},initialize:function(){var t=this;this.listenTo(this.model,"change:mode",function(){var e=t.model.get("mode");t.$el.attr("data-number-state",e).data("number-state",e)})},onToggleNumber:function(){this.toggleMode()},toggleMode:function(){var t=this.model.get("mode");if("selected"!==t&&"default"!==t){var e="pending"===t?"selectable":"pending";return this.model.set("mode",e),e}}});return i}),define("views/boxItemListView",["app","marionette","views/boxItemView"],function(t,e,n){var i=e.CollectionView.extend({childView:n});return i}),define("views/boxSectionView",["underscore","app","marionette","collections/boxItems","views/boxItemListView"],function(t,e,n,i,r){var o=n.LayoutView.extend({template:e.templateManager.get("boxSection"),regions:{boxListRegion:".box-number-list"},events:{'click [data-view-action="endTurn"]':"onEndTurn"},initialize:function(){this.blockTurn();for(var t=[],n=1,o=9;o>=n;n++)t.push({name:n,value:n});this.boxItemsCollection=new i(t.slice()),this.boxItemListView=new r({collection:this.boxItemsCollection}),this.scoreToMatch=0,this.turnCount=1;var s=this;this.listenTo(e.vent,"game:dice:rolled",function(t){s.scoreToMatch=t.total,this.blockTurn()}),this.listenTo(e.vent,"game:turn:state:changed",function(t){t.isMatched?s.unblockTurn():s.blockTurn()})},onBeforeShow:function(){this.getRegion("boxListRegion").show(this.boxItemListView),this.blockTurn()},onBeforeDestroy:function(){this.boxItemListView.destroy(),this.boxItemsCollection.unbind(),this.boxItemsCollection.stopListening(),this.boxItemsCollection.reset()},onEndTurn:function(t){t.preventDefault(),this.endTurn()},endTurn:function(){if(this.canChangeTurn){this.blockTurn(),this.turnCount++,this.getTurnBtn().html("End Turn "+this.turnCount);var t={};e.vent.trigger("game:turn:end",t)}},getTurnBtn:function(){return this.$turnBtnEl&&this.$turnBtnEl.length||(this.$turnBtnEl=this.$el.find('[data-view-action="endTurn"]')),this.$turnBtnEl},blockTurn:function(){this.canChangeTurn=!1,this.getTurnBtn().addClass("is-blocked")},unblockTurn:function(){this.canChangeTurn=!0,this.getTurnBtn().removeClass("is-blocked")}});return o}),define("models/die",["underscore","app","backbone"],function(t,e,n){var i=n.Model.extend({defaults:function(){return{value:0,rolled:!1}},roll:function(){var e=t.random(1,6);return this.set({value:e,rolled:!0}),this.get("value")}});return i}),define("collections/dice",["underscore","app","backbone","models/die"],function(t,e,n,i){var r=n.Collection.extend({model:i,initialize:function(){this.listenTo(e.vent,"game:turn:end",this.onTurnEnd)},onTurnEnd:function(){t.each(this.models,function(t){t.set({value:0,rolled:!1})})},roll:function(e){var n=this.length;(!e||e>n)&&(e=n);var i=[];return t.each(this.models,function(t,n){if(e>n){var r=t.roll();i.push(r)}else t.set({value:0,rolled:!1})}),i},getTotal:function(){var e=t(this).map(function(t){return t.get("value")});return t.reduce(e,function(t,e){return t+e})||0}});return r}),define("views/dieView",["app","marionette","models/die"],function(t,e,n){var i=e.ItemView.extend({model:n,template:t.templateManager.get("die"),tagName:"li",className:"dice-indicator",initialize:function(){var t=this;this.listenTo(this.model,"change",function(){t.render()})},onRender:function(){var t=this.model.get("rolled");this.$el.toggleClass("dice-not-rolled",!t)}});return i}),define("views/diceListView",["app","marionette","views/dieView"],function(t,e,n){var i=e.CollectionView.extend({childView:n,tagName:"ul",className:"dice-list",initialize:function(){},roll:function(e){var n=this.collection.roll(e),i=0;_.each(n,function(t){i+=t});var r={values:n,total:i};t.vent.trigger("game:dice:rolled",r)}});return i}),define("views/diceSectionView",["underscore","app","marionette","collections/dice","views/diceListView"],function(t,e,n,i,r){var o=n.LayoutView.extend({template:e.templateManager.get("diceSection"),regions:{diceListRegion:".dice-summary"},events:{'click [data-view-action="throwSingle"]':"onRollSingle",'click [data-view-action="throwBoth"]':"onRollBoth"},initialize:function(){for(var n=[],o=1,s=2;s>=o;o++)n.push({value:0});this.diceItemsCollection=new i(n.slice()),this.diceListView=new r({collection:this.diceItemsCollection}),this.diceRolled=!1;var a=this;this.listenTo(e.vent,"game:dice:rolled",function(t){this.diceRolled=!0,a.displaySum(t),a.blockView()}),this.listenTo(e.vent,"game:turn:end",function(){this.diceRolled=!1,a.displaySum({total:0}),a.unblockView()}),this.listenTo(e.vent,"game:turn:state:changed",function(e){var n=t.reject(e.remainingNumbers,function(t){return 7>t});n.length?a.blockSingle():a.unblockSingle()})},onBeforeShow:function(){this.getRegion("diceListRegion").show(this.diceListView),this.blockSingle()},onBeforeDestroy:function(){this.diceListView.destroy(),this.diceItemsCollection.unbind(),this.diceItemsCollection.stopListening(),this.diceItemsCollection.reset()},onRollSingle:function(){this.diceRolled||this.diceListView.roll(1)},onRollBoth:function(){this.diceRolled||this.diceListView.roll()},displaySum:function(t){t||(t=this.diceListView.collection.getTotal()),this.$el.find('[data-view-subregion="sum"]').html(t.total)},blockView:function(){this.$el.find('[data-view-subregion="controls"]').addClass("is-blocked")},unblockView:function(){this.$el.find('[data-view-subregion="controls"]').removeClass("is-blocked")},blockSingle:function(){this.$el.find('[data-view-action="throwSingle"], .dice-separator').addClass("hide")},unblockSingle:function(){this.$el.find('[data-view-action="throwSingle"], .dice-separator').removeClass("hide")}});return o}),define("views/gameView",["marionette","app","views/playerSectionView","views/boxSectionView","views/diceSectionView"],function(t,e,n,i,r){var o=Backbone.Marionette.LayoutView.extend({template:e.templateManager.get("game"),className:"app-game",regions:{boxRegion:'[data-game-view-region="box"]',diceRegion:'[data-game-view-region="dice"]',playerRegion:'[data-game-view-region="player"]'},events:{'click [data-game-view-action="gameEnd"]':"onForceEnd"},initialize:function(){this.playerSection=new n({players:2}),this.boxSection=new i,this.diceSection=new r,this.listenTo(e.vent,"game:over",this.onGameOver),this.listenTo(e.vent,"game:player:change",this.onGameChange)},onBeforeShow:function(){this.getRegion("playerRegion").show(this.playerSection),this.createGameControls()},onBeforeDestroy:function(){this.playerSection.destroy(),this.playerSection=null,this.destroyGameControls()},onForceEnd:function(){e.vent.trigger("game:force:end")},onGameChange:function(t){console.log("changing players",t);var e=[];e.push(t.previousPlayer.get("name")+" is finished"),e.push("With a score of "+t.previousPlayer.get("score")),window.alert(e.join("\n")),this.resetGameControls()},onGameOver:function(t){console.log("game over",t),this.destroyGameControls(),e.vent.trigger("game:completed",t)},createGameControls:function(){this.boxSection||(this.boxSection=new i),this.getRegion("boxRegion").show(this.boxSection),this.diceSection||(this.diceSection=new r),this.getRegion("diceRegion").show(this.diceSection)},destroyGameControls:function(){this.boxSection&&(this.boxSection.destroy(),this.boxSection=null),this.diceSection&&(this.diceSection.destroy(),this.diceSection=null)},resetGameControls:function(){this.destroyGameControls(),this.createGameControls()}});return o}),define("views/appView",["marionette","app","views/gameView"],function(t,e,n){var i=Backbone.Marionette.LayoutView.extend({template:e.templateManager.get("appMain"),className:"app-main",regions:{gameRegion:'[data-app-view-region="game"]'},events:{'click [data-app-view-action="newGame"]':"onNewGame"},initialize:function(){this.listenTo(e.vent,"game:completed",function(t){var e=["--GAME OVER--"],n=_.map(t.winners,function(t){return t.get("name")}),i="The winner is ";n.length>1&&(e.push("We have a tie!"),i="The winners are "),e.push(i+n.join(" and ")),e.push(t.brokeBox?"The Box has been Shut!":"With a score of: "+t.score),window.alert(e.join("\n")),this.endGame()})},onBeforeDestroy:function(){this.endGame()},onNewGame:function(){(!this.gameSection||window.confirm("Are you want to end this game?"))&&(this.endGame(),this.startGame())},startGame:function(){this.gameSection=new n({players:2}),this.getRegion("gameRegion").show(this.gameSection)},endGame:function(){this.gameSection&&(this.gameSection.destroy(),this.gameSection=null)}});return i}),define("modules/main",["underscore","app","views/appView"],function(t,e,n){var i=e.module("main",function(t,i){this.listenTo(i,"start",function(){t.start()});var r=new n;e.getRegion("mainRegion").show(r)});return i}),require.config({baseUrl:"/scripts/app",paths:{backbone:"../libs/backbone/backbone-1.1.2",handlebars:"../libs/handlebars/handlebars-v3.0.0",jquery:["//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min","../libs/jQuery/jquery-1.11.2"],marionette:"../libs/marionette/marionette-2.3.2",modernizr:"../libs/modernizr/modernizr-2.8.3",text:"../libs/require/text",underscore:"../libs/lodash/lodash.custom"},shim:{backbone:{deps:["underscore","jquery"],exports:"Backbone"},handlebars:{exports:"Handlebars"},marionette:{deps:["backbone"],exports:"Marionette"},modernizr:{exports:"Modernizr"},underscore:{exports:"_"}}}),require(["util/modernizr","app","modules/templateManager","modules/main"],function(t,e){e.start()}),define("main",function(){});
//# sourceMappingURL=main-built.js
//# sourceMappingURL=main-built.js.map